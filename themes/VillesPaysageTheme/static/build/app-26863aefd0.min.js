var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var t=document.documentElement,e=window,i=function(i,n){var o="x"===n?"Width":"Height",s="scroll"+o,r="client"+o,a=document.body;return i===e||i===t||i===a?Math.max(t[s],a[s])-(e["inner"+o]||t[r]||a[r]):i[s]-i["offset"+o]},n=function(t){return"string"==typeof t&&(t=TweenLite.selector(t)),t.length&&t!==e&&t[0]&&t[0].style&&!t.nodeType&&(t=t[0]),t===e||t.nodeType&&t.style?t:null},o=function(i,n){var o="scroll"+("x"===n?"Left":"Top");return i===e&&(null!=i.pageXOffset?o="page"+n.toUpperCase()+"Offset":i=null!=t[o]?t:document.body),function(){return i[o]}},s=function(i,s){var r=n(i).getBoundingClientRect(),a=!s||s===e||s===document.body,c=(a?t:s).getBoundingClientRect(),l={x:r.left-c.left,y:r.top-c.top};return!a&&s&&(l.x+=o(s,"x")(),l.y+=o(s,"y")()),l},r=function(t,e,n){var o=typeof t;return"number"===o||"string"===o&&"="===t.charAt(1)?t:"max"===t?i(e,n):Math.min(i(e,n),s(t,e)[n])},a=_gsScope._gsDefine.plugin({propName:"scrollTo",API:2,version:"1.8.0",init:function(t,i,n){return this._wdw=t===e,this._target=t,this._tween=n,"object"!=typeof i?(i={y:i},"string"==typeof i.y&&"max"!==i.y&&"="!==i.y.charAt(1)&&(i.x=i.y)):i.nodeType&&(i={y:i,x:i}),this.vars=i,this._autoKill=i.autoKill!==!1,this.getX=o(t,"x"),this.getY=o(t,"y"),this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),null!=i.x?(this._addTween(this,"x",this.x,r(i.x,t,"x")-(i.offsetX||0),"scrollTo_x",!0),this._overwriteProps.push("scrollTo_x")):this.skipX=!0,null!=i.y?(this._addTween(this,"y",this.y,r(i.y,t,"y")-(i.offsetY||0),"scrollTo_y",!0),this._overwriteProps.push("scrollTo_y")):this.skipY=!0,!0},set:function(t){this._super.setRatio.call(this,t);var n=this._wdw||!this.skipX?this.getX():this.xPrev,o=this._wdw||!this.skipY?this.getY():this.yPrev,s=o-this.yPrev,r=n-this.xPrev,c=a.autoKillThreshold;this.x<0&&(this.x=0),this.y<0&&(this.y=0),this._autoKill&&(!this.skipX&&(r>c||-c>r)&&n<i(this._target,"x")&&(this.skipX=!0),!this.skipY&&(s>c||-c>s)&&o<i(this._target,"y")&&(this.skipY=!0),this.skipX&&this.skipY&&(this._tween.kill(),this.vars.onAutoKill&&this.vars.onAutoKill.apply(this.vars.onAutoKillScope||this._tween,this.vars.onAutoKillParams||[]))),this._wdw?e.scrollTo(this.skipX?n:this.x,this.skipY?o:this.y):(this.skipY||(this._target.scrollTop=this.y),this.skipX||(this._target.scrollLeft=this.x)),this.xPrev=this.x,this.yPrev=this.y}}),c=a.prototype;a.max=i,a.getOffset=s,a.autoKillThreshold=7,c._kill=function(t){return t.scrollTo_x&&(this.skipX=!0),t.scrollTo_y&&(this.skipY=!0),this._super._kill.call(this,t)}}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope)[t]};"function"==typeof define&&define.amd?define("scrollTo",["TweenLite"],e):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=e())}("ScrollToPlugin"),!function(t){var e=/iPhone/i,i=/iPod/i,n=/iPad/i,o=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,s=/Android/i,r=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,a=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,c=/IEMobile/i,l=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,h=/BlackBerry/i,u=/BB10/i,p=/Opera Mini/i,d=/(CriOS|Chrome)(?=.*\bMobile\b)/i,f=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,y=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),m=function(t,e){return t.test(e)},g=function(t){var g=t||navigator.userAgent,v=g.split("[FBAN");return"undefined"!=typeof v[1]&&(g=v[0]),this.apple={phone:m(e,g),ipod:m(i,g),tablet:!m(e,g)&&m(n,g),device:m(e,g)||m(i,g)||m(n,g)},this.amazon={phone:m(r,g),tablet:!m(r,g)&&m(a,g),device:m(r,g)||m(a,g)},this.android={phone:m(r,g)||m(o,g),tablet:!m(r,g)&&!m(o,g)&&(m(a,g)||m(s,g)),device:m(r,g)||m(a,g)||m(o,g)||m(s,g)},this.windows={phone:m(c,g),tablet:m(l,g),device:m(c,g)||m(l,g)},this.other={blackberry:m(h,g),blackberry10:m(u,g),opera:m(p,g),firefox:m(f,g),chrome:m(d,g),device:m(h,g)||m(u,g)||m(p,g)||m(f,g)||m(d,g)},this.seven_inch=m(y,g),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window?this:void 0},v=function(){var t=new g;return t.Class=g,t};"undefined"!=typeof module&&module.exports&&"undefined"==typeof window?module.exports=g:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window?module.exports=v():"function"==typeof define&&define.amd?define("isMobile",[],t.isMobile=v()):t.isMobile=v()}(this),!function(t,e){"use strict";"function"==typeof define&&define.amd?define("loglevel",e):"object"==typeof module&&module.exports?module.exports=e():t.log=e()}(this,function(){"use strict";function t(t){return typeof console!==a&&(void 0!==console[t]?e(console,t):void 0!==console.log?e(console,"log"):r)}function e(t,e){var i=t[e];if("function"==typeof i.bind)return i.bind(t);try{return Function.prototype.bind.call(i,t)}catch(n){return function(){return Function.prototype.apply.apply(i,[t,arguments])}}}function i(t,e,i){return function(){typeof console!==a&&(n.call(this,e,i),this[t].apply(this,arguments))}}function n(t,e){for(var i=0;i<c.length;i++){var n=c[i];this[n]=t>i?r:this.methodFactory(n,t,e)}}function o(e,n,o){return t(e)||i.apply(this,arguments)}function s(t,e,i){function s(t){var e=(c[t]||"silent").toUpperCase();try{return void(window.localStorage[u]=e)}catch(i){}try{window.document.cookie=encodeURIComponent(u)+"="+e+";"}catch(i){}}function r(){var t;try{t=window.localStorage[u]}catch(e){}if(typeof t===a)try{var i=window.document.cookie,n=i.indexOf(encodeURIComponent(u)+"=");n&&(t=/^([^;]+)/.exec(i.slice(n))[1])}catch(e){}return void 0===h.levels[t]&&(t=void 0),t}var l,h=this,u="loglevel";t&&(u+=":"+t),h.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},h.methodFactory=i||o,h.getLevel=function(){return l},h.setLevel=function(e,i){if("string"==typeof e&&void 0!==h.levels[e.toUpperCase()]&&(e=h.levels[e.toUpperCase()]),!("number"==typeof e&&e>=0&&e<=h.levels.SILENT))throw"log.setLevel() called with invalid level: "+e;return l=e,i!==!1&&s(e),n.call(h,e,t),typeof console===a&&e<h.levels.SILENT?"No console available for logging":void 0},h.setDefaultLevel=function(t){r()||h.setLevel(t,!1)},h.enableAll=function(t){h.setLevel(h.levels.TRACE,t)},h.disableAll=function(t){h.setLevel(h.levels.SILENT,t)};var p=r();null==p&&(p=null==e?"WARN":e),h.setLevel(p,!1)}var r=function(){},a="undefined",c=["trace","debug","info","warn","error"],l=new s,h={};l.getLogger=function(t){if("string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=h[t];return e||(e=h[t]=new s(t,l.getLevel(),l.methodFactory)),e};var u=typeof window!==a?window.log:void 0;return l.noConflict=function(){return typeof window!==a&&window.log===l&&(window.log=u),l},l}),define("utils/utils",["exports","jquery"],function(t,e){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0;var o=i(e);t.Utils=function(){function t(){n(this,t)}return t.stripTrailingSlash=function(t){return"/"==t.substr(-1)?t.substr(0,t.length-1):t},t.logCredits=function(t,e,i,n,o){var s="#fff";if("undefined"!=typeof o&&(s=o),console.log("%c   ","font-size:3px;"),console.log("%c"+t,"background:"+e+"; color: "+s+"; font-size:14px; padding:5px 10px;"),console.log("%c   ","font-size:3px;"),null!==i){var r=i.length;if(r)for(var a=0;r>a;a++)console.log(i[a].name+" - "+i[a].website)}if(null!==n){var c=n.length;if(c){console.log("-"),console.log("Thanks to");for(var l=0;c>l;l++)console.log(n[l].name+" ("+n[l].website+")")}}console.log("-"),console.log(" ")},t.getStyleVal=function(t,e){var i=t.css(e);return Math.round(Number(i.substr(0,i.length-2)))},t.addClass=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},t.removeClass=function(t,e){if(t.classList)t.classList.remove(e);else{t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi"),"");var i=t.className.length-1;" "==t.className[i]&&(t.className=t.className.substring(0,i))}},t.getRandomNumber=function(t,e,i){var n=Math.random()*(e-t)+t;return"undefined"!=typeof i?Number(n.toFixed(i)):n},t.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.replacePlaceholder=function(){"undefined"!=typeof Modernizr&&(Modernizr.input.placeholder||((0,o["default"])("[placeholder]").focus(function(){var t=(0,o["default"])(this);t.val()==t.attr("placeholder")&&(t.val(""),t.removeClass("placeholder"))}).blur(function(){var t=(0,o["default"])(this);(""===t.val()||t.val()==t.attr("placeholder"))&&(t.addClass("placeholder"),t.val(t.attr("placeholder")))}).blur(),(0,o["default"])("[placeholder]").parents("form").submit(function(){(0,o["default"])(this).find("[placeholder]").each(function(){var t=(0,o["default"])(this);t.val()==t.attr("placeholder")&&t.val("")})})))},t.getViewportSize=function(){var t=window,e="inner";return"innerWidth"in window||(e="client",t=document.documentElement||document.body),{width:t[e+"Width"],height:t[e+"Height"]}},t.prefixProperty=function(t){for(var e=["","ms","Webkit","Moz","O"],i=e.length,n=document.createElement("div"),o=0;i>o;o++){var s=e[o];t=""===s?t:t.charAt(0).toUpperCase()+t.substring(1).toLowerCase();var r=s+t;if("undefined"!=typeof n.style[r])return r}},t.getNormRatio=function(t,e,i){return e>t?0:t>i?1:t===i?1:(t-e)/(i-e)},t}()}),define("utils/polyfills",["exports"],function(t){"use strict";function e(){window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),window.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){window.clearTimeout(t)}}();for(var t=void 0,e=function(){},i=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],n=i.length,o=window.console=window.console||{};n--;)t=i[n],o[t]||(o[t]=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.polyfills=e}),define("utils/gaTrackErrors",["exports","jquery"],function(t,e){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function n(){"undefined"!=typeof ga&&(window.addEventListener("error",function(t){var e=t.colno?" line:"+t.lineno+", column:"+t.colno:" line:"+t.lineno;ga("send","event","JavaScript Error",t.message,t.filename+e+" -> "+navigator.userAgent,0,!0)}),o["default"].error=function(t){ga("send","event","jQuery Error",t,navigator.userAgent,0,!0)},(0,o["default"])(document).ajaxError(function(t,e,i){ga("send","event","jQuery Ajax Error",i.url,JSON.stringify({result:t.result,status:e.status,statusText:e.statusText,crossDomain:i.crossDomain,dataType:i.dataType}),0,!0)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.gaTrackErrors=n;var o=i(e)}),define("utils/bootstrapMedia",["exports","utils/utils"],function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.BootstrapMedia=void 0,t.BootstrapMedia=function(){function t(){i(this,t)}return t.isMinXS=function(){var t=e.Utils.getViewportSize();return t.width>=480},t.isMinSM=function(){var t=e.Utils.getViewportSize();return t.width>=768},t.isMinMD=function(){var t=e.Utils.getViewportSize();return t.width>=992},t.isMinLG=function(){var t=e.Utils.getViewportSize();return t.width>=1200},t.isMinXL=function(){var t=e.Utils.getViewportSize();return t.width>=1920},t}()}),define("utils/debounce",["exports"],function(t){"use strict";function e(t,e,i){var n=this,o=arguments,s=void 0;return function(){var r=n,a=o,c=function(){s=null,i||t.apply(r,a)},l=i&&!s;clearTimeout(s),s=setTimeout(c,e),l&&t.apply(r,a)}}Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=e}),define("utils/scroll",["exports"],function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Scroll=function(){function t(){e(this,t)}return t._preventDefault=function(t){t=t||window.event,t.preventDefault&&t.preventDefault(),t.returnValue=!1},t._keydown=function(e){for(var i=[37,38,39,40,33,34,35],n=i.length;n--;)if(e.keyCode===i[n])return void t._preventDefault(e)},t._wheel=function(e){t._preventDefault(e)},t.disable=function(){window.addEventListener&&window.addEventListener("DOMMouseScroll",t._wheel,!1),window.onmousewheel=document.onmousewheel=t._wheel,document.onkeydown=t._keydown},t.enable=function(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",t._wheel,!1),window.onmousewheel=document.onmousewheel=document.onkeydown=null},t}()}),function(t){"function"==typeof define&&define.amd?define("actual",["jquery"],t):t(jQuery)}(function(t){t.fn.addBack=t.fn.addBack||t.fn.andSelf,t.fn.extend({actual:function(e,i){if(!this[e])throw'$.actual => The jQuery method "'+e+'" you called does not exist';var n,o,s={absolute:!1,clone:!1,includeMargin:!1,display:"block"},r=t.extend(s,i),a=this.eq(0);if(r.clone===!0)n=function(){var t="position: absolute !important; top: -1000 !important; ";a=a.clone().attr("style",t).appendTo("body")},o=function(){a.remove()};else{var c,l=[],h="";n=function(){c=a.parents().addBack().filter(":hidden"),h+="visibility: hidden !important; display: "+r.display+" !important; ",r.absolute===!0&&(h+="position: absolute !important; "),c.each(function(){var e=t(this),i=e.attr("style");l.push(i),e.attr("style",i?i+";"+h:h)})},o=function(){c.each(function(e){var i=t(this),n=l[e];void 0===n?i.removeAttr("style"):i.attr("style",n)})}}n();var u=/(outer)/.test(e)?a[e](r.includeMargin):a[e]();return o(),u}})}),define("abstract-nav",["exports"],function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractNav=function(){function t(){e(this,t),this.$cont=null}return t.prototype.update=function(t){if(!t)throw"Nav update method needs a Page object.";this.page=t},t.prototype.initEvents=function(t){if(!t)throw"Nav initEvents method needs a Router object."},t}()}),define("common/nav",["exports","jquery","TweenMax","utils/utils","scrollTo","utils/bootstrapMedia","utils/debounce","utils/scroll","actual","abstract-nav"],function(t,e,i,n,o,s,r,a,c,l){"use strict";function h(t){return t&&t.__esModule?t:{"default":t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Nav=void 0;var f=h(e),y=h(i);h(o),h(c),t.Nav=function(t){function e(){u(this,e);var i=p(this,t.call(this));return i.$cont=(0,f["default"])("#nav"),i.$container=(0,f["default"])("#nav-container"),i.$list=(0,f["default"])("#nav-list"),i.$item=i.$list.find(".nav-item"),i.itemLength=i.$item.length,i.$link=i.$list.find(".nav-link"),i.$linkText=i.$list.find(".nav-link-text"),i.linkOffsets=[],i.linkSize=i.$item.eq(0).actual("outerWidth"),i.$links=i.$cont.find("a").not('[target="_blank"]'),i.$lang=(0,f["default"])("#nav-lang"),i.$btn=(0,f["default"])("#navbar-btn"),i.$btnCircle=(0,f["default"])(".navbar-btn-circle"),i.$overlay=(0,f["default"])("#nav-overlay"),i.$barLogo=(0,f["default"])("#navbar-logo"),i.$barLogoLink=(0,f["default"])("#navbar-logo-link"),i.$circle=(0,f["default"])("#nav-circle"),i.circleScaleInit=0,i.minifyLimit=s.BootstrapMedia.isMinSM()?50:160,i.barMinifyLimit=n.Utils.getViewportSize().height-120,i.transformProp=n.Utils.prefixProperty("transform"),i.opened=!1,i.transitioning=!1,i.minified=!1,i.barMinified=!1,i}return d(e,t),e.prototype.initEvents=function(e){t.prototype.initEvents.call(this,e),e.options.ajaxEnabled&&this.$links.on("click",e.onLinkClick.bind(e)),this.$btn.on("mouseenter",this.btnOnEnter.bind(this)),this.$btn.on("click",this.btnClick.bind(this)),this.$btn.on("mouseleave",this.btnOnLeave.bind(this)),this.$barLogoLink.on("click",this.barLogoLinkOnClick.bind(this)),window.addEventListener("keyup",this.onKeyUp.bind(this)),window.addEventListener("scroll",this.onScroll.bind(this)),window.addEventListener("resize",(0,r.debounce)(this.onResize.bind(this),100,!1))},e.prototype.barLogoLinkOnClick=function(t){return!this.minified&&void this.page.router.onLinkClick(t)},e.prototype.contOnMove=function(t){if(s.BootstrapMedia.isMinSM()&&this.opened){var e=n.Utils.getViewportSize(),i={};i.y=5*(t.pageX/e.width-.5),i.x=-(5*(t.pageY/e.height-.5)),this.$container.css(this.transformProp,"perspective("+e.height+"px) rotateX("+i.x+"deg) rotateY("+i.y+"deg)")}},e.prototype.onScroll=function(t){window.scrollY>this.minifyLimit?this.minified||this.minify():this.minified&&this.unminify(),window.scrollY>this.barMinifyLimit?this.barMinified||this.barMinify():this.barMinified&&this.barUnminify()},e.prototype.minify=function(){var t=this;n.Utils.addClass(document.body,"nav-minified"),setTimeout(function(){t.minified&&s.BootstrapMedia.isMinSM()&&(t.$barLogo[0].style.display="none")},1e3),this.minified=!0},e.prototype.unminify=function(){var t=this;s.BootstrapMedia.isMinSM()&&(this.$barLogo[0].style.display=""),n.Utils.removeClass(document.body,"nav-minified"),setTimeout(function(){t.minified&&s.BootstrapMedia.isMinSM()&&(t.$barLogo[0].style.display="none")},1e3),this.minified=!1},e.prototype.barMinify=function(){var t=this;n.Utils.addClass(document.body,"navbar-minified"),s.BootstrapMedia.isMinSM()&&this.showBtnCircles("minify"),setTimeout(function(){s.BootstrapMedia.isMinSM()&&t.hideBtnCircles("outside")},1200);var e=this.getHeaderBlock();null!==e&&e.tryPauseVideo(),this.barMinified=!0},e.prototype.barUnminify=function(){n.Utils.removeClass(document.body,"navbar-minified");var t=this.getHeaderBlock();null!==t&&t.tryPlayVideo(),this.barMinified=!1},e.prototype.onKeyUp=function(t){27==t.keyCode&&this.opened&&this.close()},e.prototype.btnOnEnter=function(t){if(s.BootstrapMedia.isMinSM()&&!this.opened){this.minified&&this.showBtnCircles("hover");var e=this.getHeaderBlock();null!==e&&e.unzoomImage()}},e.prototype.btnOnLeave=function(t){if(s.BootstrapMedia.isMinSM()&&!this.opened){this.minified&&this.hideBtnCircles("inside");var e=this.getHeaderBlock();null!==e&&e.zoomImage()}},e.prototype.showBtnCircles=function(t){if("undefined"!=typeof this.page&&"project"!=this.page.type&&"news"!=this.page.type&&"person"!=this.page.type){var e=[.8,.58,.4],i=[1,1,1];this.barMinified&&"hover"==t&&(i=[1.1,1.1,1.1]),TweenLite.fromTo(this.$btnCircle[0],1,{opacity:0,scale:e[0]},{opacity:.14,scale:i[0],force3D:!1}),TweenLite.fromTo(this.$btnCircle[1],1,{opacity:0,scale:e[1]},{opacity:.06,scale:i[1],force3D:!1}),TweenLite.fromTo(this.$btnCircle[2],1,{opacity:0,scale:e[2]},{opacity:.04,scale:i[2],force3D:!1})}},e.prototype.hideBtnCircles=function(t){"undefined"!=typeof this.page&&"project"!=this.page.type&&"news"!=this.page.type&&"person"!=this.page.type&&(TweenLite.to(this.$btnCircle[0],1.2,{opacity:0}),TweenLite.to(this.$btnCircle[1],1.2,{opacity:0}),TweenLite.to(this.$btnCircle[2],1.2,{opacity:0}))},e.prototype.btnClick=function(t){this.opened?this.close():this.open()},e.prototype.open=function(){var t=this;if(!this.opened&&"undefined"!=typeof this.page&&!this.transitioning){var e=0,i=window.scrollY||document.documentElement.scrollTop||document.body.scrollTop;i>0&&(e=1e3,TweenLite.to(window,1,{scrollTo:{y:0,autoKill:!1}})),setTimeout(function(){t.opened||"undefined"==typeof t.page||t.transitioning||(t.transitioning=!0,t.opened=!0,n.Utils.addClass(document.body,"nav-opened"),a.Scroll.disable(),!s.BootstrapMedia.isMinSM()||!t.page.hasHeader||"projectcontainer"==t.page.type&&"all"==t.page.layout?t.openXs():t.openSm())},e)}},e.prototype.openXs=function(){var t=this,e=n.Utils.getViewportSize(),i=n.Utils.getStyleVal(this.$btn,"top")+this.$btn.actual("outerHeight")/2-1,o=n.Utils.getStyleVal(this.$btn,"left")+this.$btn.actual("outerWidth")/2-1,r=[i,0,0,o];r[1]=e.width-r[3],r[2]=e.height-r[0],this.$circle[0].style.top=r[0]+"px",this.$circle[0].style.left=r[3]+"px",r.sort(function(t,e){return t-e});var a=2*Math.round(Math.sqrt(Math.pow(r[2],2)+Math.pow(r[3],2)));this.circleScaleInit=50/a,this.$circle[0].style.width=a+"px",this.$circle[0].style.height=a+"px",this.$circle[0].style.top=Math.round(i-a/2)+"px",this.$circle[0].style.left=Math.round(o-a/2)+"px",this.$circle[0].style.display="block",TweenLite.fromTo(this.$circle,.6,{scale:this.circleScaleInit},{scale:1,force3D:!1,ease:Cubic.easeInOut}),this.$cont[0].style.display="block",TweenLite.fromTo(this.$cont,1.2,{opacity:0},{opacity:1,delay:.6,ease:Expo.easeOut});var c=.8,l=.8+.1*this.itemLength;s.BootstrapMedia.isMinSM()?(y["default"].staggerFromTo(this.$item,.8,{scale:.6,opacity:0},{scale:1,opacity:1,delay:c},.1),TweenLite.fromTo(this.$linkText,.8,{y:10,opacity:0},{y:0,opacity:1,delay:1})):y["default"].staggerFromTo(this.$item,.6,{y:20,opacity:0},{y:0,opacity:1,delay:c},.1),TweenLite.fromTo(this.$lang,.4,{y:20,opacity:0},{y:0,opacity:1,delay:l,onComplete:function(){t.transitioning=!1}})},e.prototype.openSm=function(){var t=this;this.hideBtnCircles("inside"),n.Utils.addClass(document.body,"nav-opening");var e=n.Utils.getViewportSize();e.innerWidth=this.page.router.$window.innerWidth();var i=this.getHeaderBlock();null!==i&&i.hideCircles("nav"),this.$cont[0].style.display="block",TweenLite.fromTo(this.$cont,.6,{opacity:0},{opacity:1,delay:.5}),this.linkOffsets=[],this.linkSize=this.$item.eq(0).actual("outerWidth"),this.linkScaleInitial=40/this.linkSize,setTimeout(function(){t.$linkText.css("opacity",0);for(var i=0;i<t.itemLength;i++)t.linkOffsets.push({x:e.innerWidth/2-t.linkSize/2-t.$item.eq(i).offset().left,y:e.height/2-t.linkSize/2-t.$item.eq(i).offset().top}),TweenLite.set(t.$link[i],{x:t.linkOffsets[i].x,y:t.linkOffsets[i].y,scale:t.linkScaleInitial}),TweenLite.fromTo(t.$link[i],.8,{x:t.linkOffsets[i].x,y:t.linkOffsets[i].y,scale:t.linkScaleInitial},{x:0,y:0,scale:1,delay:.6+.05*i});TweenLite.fromTo(t.$linkText,.8,{y:10,opacity:0},{y:0,opacity:1,delay:1.2})},100),setTimeout(function(){n.Utils.addClass(document.body,"nav-opened-ready")},800),setTimeout(function(){t.opened&&(t.transitioning=!1,n.Utils.removeClass(document.body,"nav-opening"))},1500)},e.prototype.close=function(){var t=this;this.opened&&!this.transitioning&&(!s.BootstrapMedia.isMinSM()||!this.page.hasHeader||"projectcontainer"==this.page.type&&"all"==this.page.layout?this.closeXs():this.closeSm(),n.Utils.addClass(document.body,"nav-closing"),n.Utils.removeClass(document.body,"nav-opened-ready"),setTimeout(function(){t.opened||(n.Utils.removeClass(document.body,"nav-opened"),n.Utils.removeClass(document.body,"nav-closing"),a.Scroll.enable())},1e3),setTimeout(function(){t.opened||(t.transitioning=!1)},1400),this.opened=!1)},e.prototype.closeXs=function(){var t=this;TweenLite.to(this.$cont,.6,{opacity:0,onComplete:function(){t.opened||(t.$cont[0].style.display="none")}}),TweenLite.to(this.$circle,.8,{scale:this.circleScaleInit,force3D:!1,delay:.4,onComplete:function(){t.opened||(t.$circle[0].style.display="none")}})},e.prototype.closeSm=function(){var t=this,e=.6,i=.8;this.page.router.transition&&(e=.8,i=.4),TweenLite.to(this.$cont,e,{opacity:0,delay:i,onComplete:function(){t.opened||(t.$cont[0].style.display="none")}}),TweenLite.to(this.$linkText,.6,{opacity:0});for(var n=this.itemLength-1;n>=0;n--)TweenLite.to(this.$link[n],.6,{x:this.linkOffsets[n].x,y:this.linkOffsets[n].y,scale:this.linkScaleInitial,onComplete:function(){}});if(setTimeout(function(){t.$link.removeAttr("style")},1400),!this.page.router.transition){var o=this.getHeaderBlock();null!==o&&this.opened&&o.showCircles("nav")}},e.prototype.getHeaderBlock=function(){if("undefined"==typeof this.page)return null;var t=this.page.getBlockById("block-carrousel");if(null!==t)return t;var e=this.page.getBlockById("header-"+this.page.name);if(null!==e)return e;var i=this.page.getBlockById("projects-list");return null!==i?i:null},e.prototype.update=function(e){if(t.prototype.update.call(this,e),"static"!=this.page.context){this.$link.removeClass("active");var i=(0,f["default"])("#nav-link-"+this.page.name);i.length&&n.Utils.addClass(i[0],"active"),this.page.router.footer&&this.page.router.footer.updateLinks(e)}},e.prototype.onResize=function(){},e}(l.AbstractNav)}),define("common/search",["exports","jquery","utils/utils","utils/bootstrapMedia","utils/debounce","utils/scroll","loglevel","actual"],function(t,e,i,n,o,s,r,a){"use strict";function c(t){return t&&t.__esModule?t:{"default":t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Search=void 0;var h=c(e),u=c(r);c(a),t.Search=function(){function t(e){l(this,t),this.router=e,e.search=this,this.init(),this.initEvents()}return t.prototype.init=function(){this.$cont=(0,h["default"])("#search-cont"),this.$formCont=(0,h["default"])("#search-form-cont"),this.$btn=(0,h["default"])("#navbar-search-btn"),this.$closeBtn=(0,h["default"])(".search-close-btn"),this.$form=this.$cont.find(".search-form"),this.$input=this.$cont.find(".form-control"),this.$icon=this.$cont.find(".searchform-icon"),this.$resultsCont=(0,h["default"])("#search-results-cont"),this.$resultsRow=(0,h["default"])("#search-results-row"),this.$newSearchBtn=null,this.$moreResultsLink=null,this.opened=!1,this.searchActive=!1},t.prototype.initEvents=function(){this.$btn.on("mouseenter",this.btnOnEnter.bind(this)),this.$btn.on("click",this.btnOnClick.bind(this)),this.$btn.on("mouseleave",this.btnOnLeave.bind(this)),this.$closeBtn.on("click",this.close.bind(this)),this.$icon.on("click",this.formSubmit.bind(this)),this.$form.length&&this.$form.on("submit",this.formSubmit.bind(this)),window.addEventListener("keyup",this.onKeyUp.bind(this))},t.prototype.destroyEvents=function(){this.$btn.off("mouseenter",this.btnOnEnter.bind(this)),this.$btn.off("click",this.btnOnClick.bind(this)),this.$btn.off("mouseleave",this.btnOnLeave.bind(this)),this.$closeBtn.off("click",this.closeSearchForm.bind(this)),this.$form.length&&this.$form.off("submit",this.formSubmit.bind(this)),window.removeEventListener("keyup",this.onKeyUp.bind(this))},t.prototype.onKeyUp=function(t){27==t.keyCode&&this.opened&&this.close()},t.prototype.btnOnEnter=function(t){if(n.BootstrapMedia.isMinSM()){var e=this.router.page.getBlockById("block-carrousel");null!==e&&e.unzoomImage();var i=this.router.page.getBlockById("header-"+this.router.page.name);null!==i&&i.unzoomImage();var o=this.router.page.getBlockById("projects-list");null!==o&&o.unzoomImage()}},t.prototype.btnOnLeave=function(t){if(n.BootstrapMedia.isMinSM()){var e=this.router.page.getBlockById("block-carrousel");null!==e&&e.zoomImage();var i=this.router.page.getBlockById("header-"+this.router.page.name);null!==i&&i.zoomImage();var o=this.router.page.getBlockById("projects-list");null!==o&&o.zoomImage()}},t.prototype.btnOnClick=function(t){this.opened?this.close():this.open()},t.prototype.open=function(){var t=this;this.opened||(this.$cont.hasClass("active")||i.Utils.addClass(this.$cont[0],"active"),setTimeout(function(){TweenLite.to(t.$cont[0],1,{opacity:1,ease:Expo.easeOut})},200),this.$input.focus(),this.router.$body[0].style.overflow="hidden",this.opened=!0)},t.prototype.close=function(){var t=this;this.opened&&(TweenLite.to(this.$cont[0],1,{opacity:0,ease:Expo.easeOut}),this.router.$body[0].style.overflow="",setTimeout(function(){t.$cont.hasClass("active")&&(i.Utils.removeClass(t.$cont[0],"active"),t.$input[0].value="",t.$formCont[0].removeAttribute("style"),t.$resultsRow[0].removeAttribute("style"),t.$resultsRow[0].innerHTML="")},1200),this.opened=!1)},t.prototype.formSubmit=function(t){var e=this;t.preventDefault(),this.opened&&!this.searchActive&&(this.searchActive=!0,h["default"].ajax({url:this.$form[0].action,data:this.$form.serialize(),type:"get",success:function(t){var i=null,n=(0,h["default"])(h["default"].parseHTML(t.trim()));i=n.hasClass("page-container")?n:n.find(".page-container"),null!==i&&e.$resultsRow.append(i),e.$resultsRow[0].style.display="block",TweenLite.to(e.$formCont,1,{opacity:0}),TweenLite.to(e.$resultsRow,1,{opacity:1}),e.updateSelectorsAndEvents(),e.searchActive=!1},error:function(t){u["default"].debug("ERROR")}}))},t.prototype.newSearchBtnClick=function(t){var e=this;TweenLite.to(this.$resultsRow,1,{opacity:0,onComplete:function(){e.$resultsRow[0].innerHTML="",e.$resultsRow[0].style.display="none"}}),this.$input[0].value="",this.$input.focus(),TweenLite.to(this.$formCont,1,{opacity:1}),t.preventDefault()},t.prototype.moreResultsLinkClick=function(t){var e=this;this.opened&&(h["default"].ajax({url:t.currentTarget.href,type:"get",success:function(t){var i=null,n=(0,h["default"])(h["default"].parseHTML(t.trim()));i=n.hasClass("all-projects-list")?n:n.find(".all-projects-list"),TweenLite.to(e.$list,.6,{opacity:0}),null!==i&&setTimeout(function(){e.$list[0].innerHTML=i[0].innerHTML,e.updateSelectorsAndEvents()},700),TweenLite.to(e.$list,1,{opacity:1,delay:.8})},error:function(t){u["default"].debug("ERROR")}}),t.preventDefault())},t.prototype.updateSelectorsAndEvents=function(){this.$newSearchBtn=this.$cont.find(".new-search-btn"),this.$moreResultsLink=this.$cont.find(".more-results-link"),this.$list=this.$cont.find(".all-projects-list"),this.$link=this.$list.find(".all-projects-list-item-link"),this.$newSearchBtn.off("click",this.newSearchBtnClick.bind(this)),this.$newSearchBtn.on("click",this.newSearchBtnClick.bind(this)),this.$moreResultsLink.off("click",this.moreResultsLinkClick.bind(this)),this.$moreResultsLink.on("click",this.moreResultsLinkClick.bind(this)),this.router.options.ajaxEnabled&&this.$link.on("click",this.router.onLinkClick.bind(this.router))},t}()}),define("common/loader",["exports","jquery","TweenMax","scrollTo","utils/utils","utils/scroll","utils/bootstrapMedia"],function(t,e,i,n,o,s,r){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Loader=void 0;var l=a(e);a(n),t.Loader=function(){function t(){c(this,t),this.$cont=(0,l["default"])("#loading"),this.$circle1=(0,l["default"])("#loading-circle-1"),this.$circle2=(0,l["default"])("#loading-circle-2"),this.$circle3=(0,l["default"])("#loading-circle-3"),this.$pageCircle=(0,l["default"])("#page-circle"),s.Scroll.disable(),this.type="static",this.isAjax=!1,this.active=!0}return t.prototype.show=function(){var t=this;this.active=!0,s.Scroll.disable(),this.isAjax||(o.Utils.addClass(this.$cont[0],"loading-ajax"),this.isAjax=!0),o.Utils.getViewportSize(),setTimeout(function(){t.$cont[0].style.display="block",o.Utils.addClass(t.$cont[0],"active"),TweenLite.fromTo(t.$cont,.6,{opacity:0},{opacity:1})},600)},t.prototype.hide=function(){var t=this;this.active=!1,o.Utils.removeClass(this.$cont[0],"active"),TweenLite.to(this.$cont,1.2,{opacity:0,
onComplete:function(){t.$cont[0].style.display="none",s.Scroll.enable()}}),"static"==this.type&&(this.type="ajax")},t}()}),define("common/footer",["exports","TweenMax","utils/utils","scrollTo"],function(t,e,i,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=void 0,o(e),o(n),t.Footer=function(){function t(e){s(this,t),this.$cont=$("#footer"),this.router=e,e.footer=this,this.visible=!0,this.init(),this.initEvents()}return t.prototype.init=function(){this.$backTopBtn=$("#footer-back-top"),this.$homeLink=this.$cont.find(".footer-home-link"),this.$link=this.$cont.find(".nav-link")},t.prototype.initEvents=function(){this.router.options.ajaxEnabled&&(this.$homeLink.on("click",this.router.onLinkClick.bind(this.router)),this.$link.on("click",this.router.onLinkClick.bind(this.router))),this.$backTopBtn.length&&this.$backTopBtn.on("click",this.backTopBtnOnClick.bind(this))},t.prototype.updateLinks=function(t){this.$link.removeClass("active"),this.$homeLink.removeClass("active");var e=$("#footer-nav-link-"+t.name);e.length&&i.Utils.addClass(e[0],"active"),t.isHome&&this.$homeLink.addClass("active")},t.prototype.hide=function(){var t=this;TweenLite.to(this.$cont,.6,{opacity:0,onComplete:function(){t.$cont[0].style.display="none",t.$cont[0].style.marginTop=""}}),this.visible=!1},t.prototype.show=function(){this.visible=!0,this.$cont[0].style.display="block",TweenLite.to(this.$cont,.6,{opacity:1})},t.prototype.backTopBtnOnClick=function(t){TweenLite.to(window,1,{scrollTo:{y:0,autoKill:!1}}),t.preventDefault()},t}()}),define("state",["exports","jquery"],function(t,e){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.State=void 0;var o=i(e);t.State=function(){function t(e,i,s){n(this,t),this.options={previousType:"page",previousName:"home",navLinkClass:"nav-link",previousHref:window.location.href},null!==s&&(this.options=o["default"].extend(this.options,s));var r=i.className.indexOf(this.options.navLinkClass)>=0?"nav":"link",a=i.getAttribute("data-is-home"),c="1"==a,l=i.getAttribute("data-title");""===l&&(l=i.innerHTML);var h=i.getAttribute(e.options.ajaxLinkTypeAttr);if(null===h||""===h){var u=i.getAttribute(e.options.objectTypeAttr);h=null!==u&&""!==u?u:"page"}this.title=l,this.href=i.href,this.nodeType=h,this.nodeName=i.getAttribute("data-node-name"),this.index=Number(i.getAttribute("data-index")),this.transition=this.options.previousType+"_to_"+h,this.context=r,this.isHome=c}return t.prototype.update=function(t){this.transition=this.options.previousType+"_to_"+t.type,this.nodeName=t.name,this.isHome=t.isHome,this.nodeType=t.type,history.replaceState&&history.replaceState(this,document.title,window.location.href)},t}()}),define("cache-provider",["exports"],function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.CacheProvider=function(){function t(){e(this,t),this.hash={}}return t.prototype.exists=function(t){return t in this.hash},t.prototype.fetch=function(t){return this.hash[t]},t.prototype.save=function(t,e){return this.hash[t]=e,this},t}()}),!function(t){"function"==typeof define&&define.amd?define("waitForImages",["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e="waitForImages";t.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],hasImageAttributes:["srcset"]},t.expr[":"]["has-src"]=function(e){return t(e).is('img[src][src!=""]')},t.expr[":"].uncached=function(e){return!!t(e).is(":has-src")&&!e.complete},t.fn.waitForImages=function(){var i,n,o,s=0,r=0,a=t.Deferred();if(t.isPlainObject(arguments[0])?(o=arguments[0].waitForAll,n=arguments[0].each,i=arguments[0].finished):1===arguments.length&&"boolean"===t.type(arguments[0])?o=arguments[0]:(i=arguments[0],n=arguments[1],o=arguments[2]),i=i||t.noop,n=n||t.noop,o=!!o,!t.isFunction(i)||!t.isFunction(n))throw new TypeError("An invalid callback was supplied.");return this.each(function(){var c=t(this),l=[],h=t.waitForImages.hasImageProperties||[],u=t.waitForImages.hasImageAttributes||[],p=/url\(\s*(['"]?)(.*?)\1\s*\)/g;o?c.find("*").addBack().each(function(){var e=t(this);e.is("img:has-src")&&!e.is("[srcset]")&&l.push({src:e.attr("src"),element:e[0]}),t.each(h,function(t,i){var n,o=e.css(i);if(!o)return!0;for(;n=p.exec(o);)l.push({src:n[2],element:e[0]})}),t.each(u,function(t,i){var n=e.attr(i);return!n||void l.push({src:e.attr("src"),srcset:e.attr("srcset"),element:e[0]})})}):c.find("img:has-src").each(function(){l.push({src:this.src,element:this})}),s=l.length,r=0,0===s&&(i.call(c[0]),a.resolveWith(c[0])),t.each(l,function(o,l){var h=new Image,u="load."+e+" error."+e;t(h).one(u,function p(e){var o=[r,s,"load"==e.type];return r++,n.apply(l.element,o),a.notifyWith(l.element,o),t(this).off(u,p),r==s?(i.call(c[0]),a.resolveWith(c[0]),!1):void 0}),l.srcset&&(h.srcset=l.srcset),h.src=l.src})}),a.promise()}}),function(t,e){"function"==typeof define&&define.amd?define("Lazyload",[],e):"object"==typeof exports?module.exports=e():t.LazyLoad=e()}(this,function(){function t(){m||(p={elements_selector:"img",container:window,threshold:300,throttle:50,data_src:"original",data_srcset:"original-set",class_loading:"loading",class_loaded:"loaded",skip_invisible:!0,show_while_loading:!1,callback_load:null,callback_set:null,callback_processed:null,placeholder:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},d=!!window.addEventListener,f=!!window.attachEvent,y=!!document.body.classList,m=!0)}function e(t,e,i){return d?void t.addEventListener(e,i):void(f&&(t.attachEvent("on"+e,function(t){return function(){i.call(t,window.event)}}(t)),t=null))}function i(t,e,i){return d?void t.removeEventListener(e,i):void(f&&t.detachEvent("on"+e,i))}function n(t,e,i){function n(){return window.innerWidth||u.documentElement.clientWidth||document.body.clientWidth}function o(){return window.innerHeight||u.documentElement.clientHeight||document.body.clientHeight}function s(t){return t.getBoundingClientRect().top+p-u.documentElement.clientTop}function r(t){return t.getBoundingClientRect().left+d-u.documentElement.clientLeft}function a(){var n;return n=e===window?o()+p:s(e)+e.offsetHeight,n<=s(t)-i}function c(){var o;return o=e===window?n()+window.pageXOffset:r(e)+n(),o<=r(t)-i}function l(){var n;return n=e===window?p:s(e),n>=s(t)+i+t.offsetHeight}function h(){var n;return n=e===window?d:r(e),n>=r(t)+i+t.offsetWidth}var u,p,d;return u=t.ownerDocument,p=window.pageYOffset||u.body.scrollTop,d=window.pageXOffset||u.body.scrollLeft,!(a()||l()||c()||h())}function o(){var t=new Date;return t.getTime()}function s(t,e){var i,n={};for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);for(i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}function r(t){try{return Array.prototype.slice.call(t)}catch(e){var i,n=[],o=t.length;for(i=0;o>i;i++)n.push(t[i]);return n}}function a(t,e){return y?void t.classList.add(e):void(t.className+=(t.className?" ":"")+e)}function c(t,e){return y?void t.classList.remove(e):void(t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,""))}function l(t,e,i,n){var o=e.getAttribute("data-"+i),s=e.getAttribute("data-"+n);o&&t.setAttribute("srcset",o),s&&t.setAttribute("src",s)}function h(t,e){return function(){return t.apply(e,arguments)}}function u(i){t(),this._settings=s(p,i),this._queryOriginNode=this._settings.container===window?document:this._settings.container,this._previousLoopTime=0,this._loopTimeout=null,this._handleScrollFn=h(this.handleScroll,this),e(window,"resize",this._handleScrollFn),this.update()}var p,d,f,y,m=!1;return u.prototype._showOnLoad=function(t){function n(){null!==s&&(s.callback_load&&s.callback_load(t),l(t,t,s.data_srcset,s.data_src),s.callback_set&&s.callback_set(t),c(t,s.class_loading),a(t,s.class_loaded),i(o,"load",n))}var o,s=this._settings;t.getAttribute("src")||t.setAttribute("src",s.placeholder),o=document.createElement("img"),e(o,"load",n),a(t,s.class_loading),l(o,t,s.data_srcset,s.data_src)},u.prototype._showOnAppear=function(t){function n(){null!==o&&(o.callback_load&&o.callback_load(t),c(t,o.class_loading),a(t,o.class_loaded),i(t,"load",n))}var o=this._settings;e(t,"load",n),a(t,o.class_loading),l(t,t,o.data_srcset,o.data_src),o.callback_set&&o.callback_set(t)},u.prototype._loopThroughElements=function(){var t,e,i=this._settings,o=this._elements,s=o?o.length:0,r=[];for(t=0;s>t;t++)e=o[t],i.skip_invisible&&null===e.offsetParent||n(e,i.container,i.threshold)&&(i.show_while_loading?this._showOnAppear(e):this._showOnLoad(e),r.push(t),e.wasProcessed=!0);for(;r.length>0;)o.splice(r.pop(),1),i.callback_processed&&i.callback_processed(o.length);0===s&&this._stopScrollHandler()},u.prototype._purgeElements=function(){var t,e,i=this._elements,n=i.length,o=[];for(t=0;n>t;t++)e=i[t],e.wasProcessed&&o.push(t);for(;o.length>0;)i.splice(o.pop(),1)},u.prototype._startScrollHandler=function(){this._isHandlingScroll||(this._isHandlingScroll=!0,e(this._settings.container,"scroll",this._handleScrollFn))},u.prototype._stopScrollHandler=function(){this._isHandlingScroll&&(this._isHandlingScroll=!1,i(this._settings.container,"scroll",this._handleScrollFn))},u.prototype.handleScroll=function(){var t,e,i;this._settings&&(e=o(),i=this._settings.throttle,0!==i?(t=i-(e-this._previousLoopTime),0>=t||t>i?(this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._previousLoopTime=e,this._loopThroughElements()):this._loopTimeout||(this._loopTimeout=setTimeout(h(function(){this._previousLoopTime=o(),this._loopTimeout=null,this._loopThroughElements()},this),t))):this._loopThroughElements())},u.prototype.update=function(){this._elements=r(this._queryOriginNode.querySelectorAll(this._settings.elements_selector)),this._purgeElements(),this._loopThroughElements(),this._startScrollHandler()},u.prototype.destroy=function(){i(window,"resize",this._handleScrollFn),this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._stopScrollHandler(),this._elements=null,this._queryOriginNode=null,this._settings=null},u}),define("abstract-page",["exports","loglevel","TweenMax","waitForImages","jquery","Lazyload","utils/debounce"],function(t,e,i,n,o,s,r){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractPage=void 0;var l=a(e),h=(a(i),a(n),a(o),a(s));t.AbstractPage=function(){function t(e,i,n,o,s){if(c(this,t),o=o||"page",!i)throw"AbstractPage need a $cont (JQuery) to be defined.";if(!e)throw"AbstractPage need a Router instance to be defined.";this.router=e,this.$cont=i,this.id=i[0].id,this.context=n,this.type=o,this.isHome=s,this.lazyload=null,"1"==this.$cont[0].getAttribute("data-is-home")&&(this.isHome=!0),this.ready=!1,this.name=this.$cont.length?this.$cont[0].getAttribute("data-node-name"):"",this.onResizeDebounce=(0,r.debounce)(this.onResize.bind(this),50,!1),l["default"].debug("a??i?? #"+this.id+"\t"+o),this.init(),this.initEvents()}return t.prototype.init=function(){var t=this;this.$link=this.$cont.find("a").not('[target="_blank"]'),this.bindedLinkClick=this.router.onLinkClick.bind(this.router),this.$link.length&&(this.externalLinkTarget(this.$link,this.router.baseUrl),this.$link=this.$cont.find("a").not('[target="_blank"]')),this.router.options.lazyloadEnabled&&setTimeout(function(){t.beforeLazyload(),t.lazyload=new h["default"]({elements_selector:"."+t.router.options.lazyloadClass,data_src:t.router.options.lazyloadSrcAttr.replace("data-",""),data_srcset:t.router.options.lazyloadSrcSetAttr.replace("data-",""),callback_set:t.onLazyImageSet.bind(t),callback_load:t.onLazyImageLoad.bind(t),callback_processed:t.onLazyImageProcessed.bind(t)})},0),this.blocks=[],this.$blocks=this.$cont.find(this.router.options.pageBlockClass),this.blockLength=this.$blocks.length,this.blockLength&&this.initBlocks(),"static"==this.context&&this.router.ajaxEnabled?this.router.pushFirstState(this.isHome,this.type,this.name):"ajax"==this.context&&this.initAjax()},t.prototype.destroy=function(){if(l["default"].debug("?Y—‘ #"+this.id),this.$cont.remove(),this.destroyEvents(),null!==this.blocks)for(var t in this.blocks)this.blocks[t].destroy();null!==this.lazyload&&this.lazyload.destroy()},t.prototype.initEvents=function(){this.$cont.find("img").length?this.$cont.waitForImages({finished:this.onLoad.bind(this),waitForAll:!0}):this.onLoad(),this.$link.length&&this.router.options.ajaxEnabled&&this.$link.on("click",this.bindedLinkClick),this.router.$window.on("resize",this.onResizeDebounce)},t.prototype.destroyEvents=function(){this.$link.off("click",this.bindedLinkClick),this.router.$window.off("resize",this.onResizeDebounce)},t.prototype.onLoad=function(t){var e=this;this.loadDate=new Date,this.loadDuration=this.loadDate-this.router.loadBeginDate,this.router.nav.update(this);var i=this.loadDuration>this.router.options.minLoadDuration?0:this.router.options.minLoadDuration-this.loadDuration;setTimeout(function(){var t=e.showEnded.bind(e);if(e.ready=!0,e.router.loader.hide(),"static"==e.context)e.show(t);else if("ajax"==e.context){if(""!==e.name&&(document.body.id=e.name),e.router.formerPages.length>0){var i=e.router.formerPages[e.router.formerPages.length-1],n=i.destroy.bind(i);e.router.formerPages.length>1?n():i.hide(n),e.router.formerPages.pop()}e.show(t)}},i)},t.prototype.show=function(t){l["default"].debug("a–¶i?? #"+this.id),TweenLite.to(this.$cont,.6,{opacity:1,onComplete:function(){"undefined"!=typeof t&&t()}})},t.prototype.showEnded=function(){this.router.transition=!1,this.$cont.removeClass(this.router.options.pageClass+"-ajax"),this.$cont.removeClass(this.router.options.pageClass+"-transitioning")},t.prototype.hide=function(t){l["default"].debug("a—ˆi?? #"+this.id),TweenLite.to(this.$cont,.6,{opacity:0,onComplete:function(){"undefined"!=typeof t&&t()}})},t.prototype.initAjax=function(){this.$cont.addClass(this.router.options.pageClass+"-transitioning")},t.prototype.initBlocks=function(){for(var t=0;t<this.blockLength;t++){var e=this.$blocks[t].getAttribute(this.router.options.objectTypeAttr),i=(this.$blocks[t].id,this.router.classFactory.getBlockInstance(e,this,this.$blocks.eq(t)));i&&this.blocks.push(i)}for(var n=this.blocks.length-1;n>=0;n--)"function"==typeof this.blocks[n].onPageReady&&this.blocks[n].onPageReady()},t.prototype.getBlockById=function(t){for(var e in this.blocks)if(this.blocks[e]&&this.blocks[e].id&&this.blocks[e].id==t)return this.blocks[e];return null},t.prototype.getBlockIndexById=function(t){for(var e in this.blocks)if(this.blocks[e]&&this.blocks[e].id&&this.blocks[e].id==t)return e;return null},t.prototype.getFirstBlockByType=function(t){for(var e in this.blocks)if(this.blocks[e]&&this.blocks[e].type&&this.blocks[e].type==t)return this.blocks[e];return null},t.prototype.getFirstBlockIndexByType=function(t){for(var e in this.blocks)if(this.blocks[e]&&this.blocks[e].type&&this.blocks[e].type==t)return e;return null},t.prototype.onResize=function(){},t.prototype.beforeLazyload=function(){},t.prototype.onLazyImageSet=function(t){l["default"].debug("\t?Y–? A«"+t.id+"A» set")},t.prototype.onLazyImageLoad=function(t){l["default"].debug("\t?Y–? A«"+t.id+"A» load")},t.prototype.onLazyImageProcessed=function(t){l["default"].debug("\t?Y–? Lazy load processed")},t.prototype.externalLinkTarget=function(t,e){var i=t.length,n=e.split("://");n=n[1];for(var o=0;i>o;o++){var s=t[o],r=s.getAttribute("href");-1==r.indexOf(n)&&-1==r.indexOf("javascript")&&-1==r.indexOf("mailto:")&&"/"!=r.charAt(0)&&"#"!=r.charAt(0)&&(t[o].target="_blank")}},t}()}),define("pages/default-page",["exports","loglevel","TweenMax","scrollTo","jquery","utils/utils","utils/polyfills","utils/bootstrapMedia","abstract-page"],function(t,e,i,n,o,s,r,a,c){"use strict";function l(t){return t&&t.__esModule?t:{"default":t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultPage=void 0;var d=l(e),f=(l(i),l(n),l(o));t.DefaultPage=function(t){function e(){return h(this,e),u(this,t.apply(this,arguments))}return p(e,t),e.prototype.init=function(){var e=this;t.prototype.init.call(this),this.hasHeader="page-container-error-404"!==this.id,this.parallaxReady=!0,this.parallaxElements=[],this.bindedScroll=this.onScroll.bind(this),this.bindedParallax=this.parallax.bind(this),this.transformProp=s.Utils.prefixProperty("transform"),this.$blocksCont=this.$cont.find(".page-blocks"),this.$blocksOverlay=this.$cont.find(".page-blocks-overlay"),this.blocksFixedEnabled=!1,this.blocksFixed=!1,this.blocksFixedLimit=s.Utils.getViewportSize().height,this.$blocksCont.length&&this.$blocksCont[0].className.indexOf("page-blocks-fixed-enabled")>=0&&(this.blocksFixedEnabled=!0,this.blocksFixed="desktop"==this.router.deviceType&&a.BootstrapMedia.isMinSM()),this.$footer=(0,f["default"])("#footer"),this.blocksContHeight=this.$blocksCont.actual("outerHeight"),this.blocksFixed&&(this.$footer[0].style.marginTop=this.blocksContHeight+"px"),this.scrollRAF=null,setTimeout(function(){e.onResize()},0)},e.prototype.destroy=function(){if(d["default"].debug("?Y—‘ #"+this.id),this.$cont.remove(),s.Utils.removeClass(this.router.$body[0],this.name),this.router.state.transition!==this.type+"_to_"+this.type&&s.Utils.removeClass(this.router.$body[0],this.type),this.isHome&&s.Utils.removeClass(this.router.$body[0],"is-home"),this.scrollRAF&&cancelAnimFrame(this.scrollRAF),null!==this.blocks)for(var t in this.blocks)this.blocks[t].destroy()},e.prototype.preDestroy=function(){if(this.destroyEvents(),null!==this.blocks)for(var t in this.blocks)this.blocks[t].destroyEvents();null!==this.lazyload&&this.lazyload.destroy()},e.prototype.initEvents=function(){t.prototype.initEvents.call(this),this.router.$window.on("scroll",this.bindedScroll)},e.prototype.destroyEvents=function(){t.prototype.destroyEvents.call(this),this.router.$window.off("scroll",this.bindedScroll)},e.prototype.onLazyImageSet=function(t){var e=(0,f["default"])(t).parent();e.length&&e[0].className.indexOf("lazyload-cont")>=0&&s.Utils.addClass(e[0],"image-loaded")},e.prototype.prePushState=function(t){var e="",i=window.scrollY||document.documentElement.scrollTop||document.body.scrollTop,n=i>0?1e3:0;"undefined"!=typeof t&&null!==t&&(e=t.transition),this.preDestroy(),s.Utils.addClass(this.router.$body[0],"ajax-transitioning"),s.Utils.addClass(this.router.$body[0],e),this.router.$body[0].style.overflow="hidden","newscontainer_to_news"!==e&&"page_to_person"!==e?TweenLite.to(this.router.$window,1,{scrollTo:{y:0,autoKill:!1}}):(this.hideBlocksExceptLinkParent(),TweenLite.to(this.router.$window,1,{scrollTo:{y:0,autoKill:!1},delay:.5})),this.router.footer.hide();var o=this.getHeaderBlock();"projectcontainer_to_project"!==e&&"projectcontainer_to_projectcontainer"!==e&&"newscontainer_to_news"!==e&&"page_to_person"!==e&&null!==o&&setTimeout(function(){o.hideCircles("page"),"function"==typeof o.hide&&o.hide()},n),this.router.nav.opened&&this.router.nav.close(),this.router.search.opened&&this.router.search.close()},e.prototype.hideBlocksExceptLinkParent=function(){var t=this.getFirstBlockByType("teamblock"),e=this.getFirstBlockIndexByType("teamblock");if(null!==t&&null!==e){var i=[];i.push(t.$container);for(var n=0;e>n;n++)i.push(this.blocks[n].$cont);TweenLite.to(i,.5,{opacity:0})}},e.prototype.showEnded=function(){var e=this;t.prototype.showEnded.call(this);var i=this.getHeaderBlock();if(null!==i&&i.initCanvas(),"ajax"==this.context){var n=!0;a.BootstrapMedia.isMinSM()&&"projectcontainer"==this.type&&(n=!1),n&&setTimeout(function(){e.router.footer.show()},200),this.router.$body[0].removeAttribute("style"),s.Utils.addClass(this.router.$body[0],this.name),this.router.state.transition!==this.type+"_to_"+this.type&&s.Utils.addClass(this.router.$body[0],this.type),this.isHome&&s.Utils.addClass(this.router.$body[0],"is-home"),setTimeout(function(){s.Utils.removeClass(e.router.$body[0],"ajax-transitioning"),s.Utils.removeClass(e.router.$body[0],e.router.state.transition)},200)}},e.prototype.getHeaderBlock=function(){var t=this.getBlockById("block-carrousel");if(null!==t)return t;var e=this.getBlockById("header-"+this.name);if(null!==e)return e;var i=this.getBlockById("projects-list");return null!==i?i:null},e.prototype.initParallax=function(){var t=this;if(0!=this.parallaxElements.length){this.onResize();for(var e=0;e<this.parallaxElements.length;e++)if(this.parallaxElements[e].data={},this.parallaxElements[e].data.isAnimated=!1,this.parallaxElements[e].settings.hasOwnProperty("x")&&(this.parallaxElements[e].data.x={currentDelta:0,targetDelta:0}),this.parallaxElements[e].settings.hasOwnProperty("y")&&(this.parallaxElements[e].data.y={currentDelta:0,targetDelta:0}),this.parallaxElements[e].settings.hasOwnProperty("offset")&&this.parallaxElements[e].settings.offset){var i=this.parallaxElements[e].$object;this.parallaxElements[e].settings.hasOwnProperty("offsetOrigin")&&(i=this.parallaxElements[e].settings.offsetOrigin),window.scrollY||document.documentElement.scrollTop||document.body.scrollTop,this.parallaxElements[e].data.offset=i.length?i.offset().top:0,this.parallaxElements[e].settings.hasOwnProperty("offsetValue")&&(this.parallaxElements[e].data.offset=this.parallaxElements[e].settings.offsetValue)}setTimeout(function(){t.parallaxReady=!0},200)}},e.prototype.onScroll=function(){if("mobile"!=this.router.deviceType&&a.BootstrapMedia.isMinSM()){if(this.blocksFixedEnabled){var t=window.scrollY||document.documentElement.scrollTop||document.body.scrollTop;if(t>this.blocksFixedLimit)this.blocksFixed&&(this.unfixBlocks(),this.blocksFixed=!1);else{if(this.$blocksOverlay.length){var e=Number(Math.abs(t/this.blocksFixedLimit-1).toFixed(2));this.$blocksOverlay[0].style.opacity=e}this.blocksFixed||(this.fixBlocks(),this.blocksFixed=!0)}}if(this.parallaxReady&&0!=this.parallaxElements.length&&!this.checkIsAnimating()){for(var i=0;i<this.parallaxElements.length;i++)this.parallaxElements[i].data.isAnimated=!0;this.parallax()}}},e.prototype.unfixBlocks=function(){this.$blocksCont.length&&s.Utils.removeClass(this.$blocksCont[0],"fixed"),this.$footer.length&&(this.$footer[0].style.marginTop=""),this.$blocksOverlay.length&&(this.$blocksOverlay[0].style.display="none")},e.prototype.fixBlocks=function(){this.$blocksCont.length&&(this.blocksContHeight=this.$blocksCont.actual("outerHeight")),this.$footer.length&&(this.$footer[0].style.marginTop=this.blocksContHeight+"px"),this.$blocksCont.length&&s.Utils.addClass(this.$blocksCont[0],"fixed"),this.$blocksOverlay.length&&(this.$blocksOverlay[0].style.display="block")},e.prototype.parallax=function(){var t=window.scrollY||document.documentElement.scrollTop||document.body.scrollTop;if(t>this.scrollPosPrev?"down":"up",this.checkIsAnimating()&&this.parallaxReady){for(var e=0;e<this.parallaxElements.length;e++){var i=t,n=this.parallaxElements[e],o=0,s=.1,r=!0,a=!0;if("undefined"!=typeof n&&"undefined"!=typeof n.data){if(n.data.hasOwnProperty("offset")&&(i-=n.data.offset),n.settings.hasOwnProperty("x")){var c=.08;n.settings.x.hasOwnProperty("smoothFactor")&&(c=n.settings.x.smoothFactor),n.data.x.targetDelta=Math.round(100*(0+i*n.settings.x.multiplier))/100,n.data.x.currentDelta=Math.round(100*(n.data.x.currentDelta+(n.data.x.targetDelta-n.data.x.currentDelta)*c))/100,n.settings.x.hasOwnProperty("smoothed")&&!n.settings.x.smoothed?o=n.data.x.targetDelta:(o=n.data.x.currentDelta,Math.abs(n.data.x.targetDelta-n.data.x.currentDelta)<.05&&(r=!1))}else r=!1;if(n.settings.hasOwnProperty("y")){var l=.08;n.settings.y.hasOwnProperty("smoothFactor")&&(l=n.settings.y.smoothFactor),n.data.y.targetDelta=Math.round(i*n.settings.y.multiplier*100)/100,n.data.y.currentDelta=Math.round(100*(n.data.y.currentDelta+(n.data.y.targetDelta-n.data.y.currentDelta)*l))/100,n.settings.y.hasOwnProperty("smoothed")&&!n.settings.y.smoothed?s=n.data.y.targetDelta:(s=n.data.y.currentDelta,Math.abs(n.data.y.targetDelta-n.data.y.currentDelta)<.05&&(a=!1))}else a=!1;this.parallaxElements[e].data.isAnimated=r||a,n.$object.css(this.transformProp,"translate3d("+o+"px, "+s+"px ,0)"),this.parallaxElements[e]=n}}return this.scrollRAF=requestAnimFrame(this.bindedParallax),this.scrollPosPrev=t,t}},e.prototype.checkIsAnimating=function(){for(var t in this.parallaxElements)if(this.parallaxElements[t].data.isAnimated)return!0;return!1},e.prototype.onResize=function(e){var i=this;t.prototype.onResize.call(this),this.blocksFixedLimit=s.Utils.getViewportSize().height,this.blocksContHeight=this.$blocksCont.actual("height"),this.blocksFixed&&(this.$footer[0].style.marginTop=this.blocksContHeight+"px"),this.parallaxReady&&(this.parallaxReady=!1,setTimeout(function(){i.initParallax()},400))},e}(c.AbstractPage)}),define("pages/home",["exports","pages/default-page"],function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Home=void 0,t.Home=function(t){function e(){return i(this,e),n(this,t.apply(this,arguments))}return o(e,t),e.prototype.init=function(){t.prototype.init.call(this)},e.prototype.initEvents=function(){t.prototype.initEvents.call(this)},e.prototype.destroyEvents=function(){t.prototype.destroyEvents.call(this)},e}(e.DefaultPage)}),define("router",["exports","jquery","isMobile","loglevel","utils/utils","state","cache-provider","pages/home"],function(t,e,i,n,o,s,r,a){"use strict";function c(t){return t&&t.__esModule?t:{"default":t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0;var h=c(e),u=c(i),p=c(n);t.Router=function(){function t(e,i,n,s,a){if(l(this,t),!n)throw"Router needs baseUrl to be defined.";if(!s)throw"Router needs a GraphicLoader instance to be defined.";if(!i)throw"Router needs a ClassFactory instance to be defined.";if(!a)throw"Router needs a Nav instance to be defined.";this.classFactory=i,this.baseUrl=n,this.loader=s,this.nav=a,this.state=null,this.formerPages=[],this.page=null,this.stateBlock=!0,this.ajaxEnabled=!0,this.transition=!1,this.loading=!1,this.$window=(0,h["default"])(window),this.$body=(0,h["default"])("body"),this.deviceType=u["default"].any===!1?"desktop":"mobile",o.Utils.addClass(this.$body[0],"is-"+this.deviceType),this.window=this.$window,this.currentRequest=null,this.cacheProvider=new r.CacheProvider,this.options={homeHasClass:!1,ajaxEnabled:!0,pageClass:"page-content",objectTypeAttr:"data-node-type",ajaxLinkTypeAttr:"data-node-type",noAjaxLinkClass:"no-ajax-link",navLinkClass:"nav-link",activeClass:"active",pageBlockClass:".page-block",lazyloadEnabled:!1,lazyloadSrcAttr:"data-src",lazyloadClass:"lazyload",lazyloadSrcSetAttr:"data-src-set",$ajaxContainer:(0,h["default"])("#ajax-container"),minLoadDuration:0,preLoadPageDelay:0,useCache:!0,postLoad:function(t,e){},preLoad:function(t){},prePushState:function(t){},onDestroy:function(){},preBoot:function(t,e,i){}},null!==e&&(this.options=h["default"].extend(this.options,e))}return t.prototype.destroy=function(){this.options.ajaxEnabled&&window.removeEventListener("popstate",this.onPopState.bind(this),!1);var t=this.options.onDestroy.bind(this);t()},t.prototype.initEvents=function(){this.options.ajaxEnabled&&window.addEventListener("popstate",this.onPopState.bind(this),!1),this.nav.initEvents(this)},t.prototype.onPopState=function(t){"undefined"!=typeof t.state&&null!==t.state&&(this.transition=!0,this.loadPage(t,t.state))},t.prototype.boot=function(t,e,i){"static"==e&&(this.loadBeginDate=new Date);var n=this.options.preBoot.bind(this);n(t,e,i);var o=t.attr(this.options.objectTypeAttr);i&&this.options.homeHasClass?this.page=new a.Home(this,t,e,o,i):this.page=this.classFactory.getPageInstance(o,this,t,e,o,i),"ajax"==e&&this.state.update(this.page)},t.prototype.onLinkClick=function(t){var e=t.currentTarget.className,i=t.currentTarget.href;if(-1==i.indexOf("mailto:")&&(t.preventDefault(),-1==e.indexOf(this.options.activeClass)&&-1==e.indexOf(this.options.noAjaxLinkClass)&&!this.transition)){this.transition=!0,this.state=new s.State(this,t.currentTarget,{previousType:this.page.type,previousName:this.page.name,navLinkClass:this.options.navLinkClass,previousHref:window.location.href});var n=this.options.prePushState.bind(this);n(this.state),history.pushState&&history.pushState(this.state,this.state.title,this.state.href),this.loadPage(t,this.state)}},t.prototype.loadPage=function(t,e){this.currentRequest&&4!=this.currentRequest.readyState&&this.currentRequest.abort(),this.loader.show(),this.loadBeginDate=new Date;var i=this.options.preLoad.bind(this);i(e),setTimeout(this.doPageLoad.bind(this,e),this.options.preLoadPageDelay)},t.prototype.doPageLoad=function(t){var e=this;this.options.useCache&&this.cacheProvider.exists(t.href)?(p["default"].debug("?Y“Z Use cache-provider for: "+t.href),this._onDataLoaded(this.cacheProvider.fetch(t.href),t)):this.currentRequest=h["default"].ajax({url:t.href,dataType:"html",headers:{"X-Allow-Partial":1},cache:!1,type:"get",success:function(i){e.options.useCache&&e.cacheProvider.save(t.href,i),e._onDataLoaded(i,t)}})},t.prototype._onDataLoaded=function(t,e){var i=null,n=(0,h["default"])(h["default"].parseHTML(t.trim()));i=n.hasClass(this.options.pageClass)?n:n.find("."+this.options.pageClass),this.options.$ajaxContainer.append(i),this.formerPages.push(this.page),this.updatePageTitle(i),this.boot(i,"ajax",e.isHome);var o=this.options.postLoad.bind(this);o(e,i),"undefined"!=typeof ga&&(p["default"].debug("?Ys© Push Analytics for: "+window.location.pathname),ga("send","pageview",{page:window.location.pathname,title:document.title}))},t.prototype.updatePageTitle=function(t){if(t.length&&""!==t.attr("data-meta-title")){var e=t.attr("data-meta-title");null!==e&&""!==e&&(document.title=e)}},t.prototype.pushFirstState=function(t,e,i){history.pushState&&history.pushState({firstPage:!0,href:window.location.href,isHome:t,nodeType:e,nodeName:i},document.title,window.location.href)},t}()}),define("custom-router",["exports","router"],function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,
writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CustomRouter=void 0,t.CustomRouter=function(t){function e(){return i(this,e),n(this,t.apply(this,arguments))}return o(e,t),e.prototype.onPopState=function(e){t.prototype.onPopState.call(this,e);var i=this.options.prePushState.bind(this);i(this.state)},e}(e.Router)}),define("pages/page",["exports","TweenMax","scrollTo","jquery","utils/utils","utils/bootstrapMedia","pages/default-page"],function(t,e,i,n,o,s,r){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0,a(e),a(i),a(n),t.Page=function(t){function e(){return c(this,e),l(this,t.apply(this,arguments))}return h(e,t),e.prototype.init=function(){t.prototype.init.call(this)},e.prototype.initEvents=function(){t.prototype.initEvents.call(this)},e.prototype.destroyEvents=function(){t.prototype.destroyEvents.call(this)},e.prototype.hide=function(e){return s.BootstrapMedia.isMinSM()?void("page_to_person"==this.router.state.transition||"page_to_project"==this.router.state.transition||"page_to_news"==this.router.state.transition?setTimeout(function(){e()},1e3):t.prototype.hide.call(this,e)):void t.prototype.hide.call(this,e)},e.prototype.show=function(e){return s.BootstrapMedia.isMinSM()&&"static"!=this.context?void("ajax"==this.context&&"person_to_page"==this.router.state.transition&&"l-agence"==this.name?(this.hideBlocks(),setTimeout(function(){e()},600)):t.prototype.show.call(this,e)):void t.prototype.show.call(this,e)},e.prototype.hideBlocks=function(){if(this.teamBlock=this.getFirstBlockByType("teamblock"),this.teamBlockIndex=this.getFirstBlockIndexByType("teamblock"),this.blocksCont=[],null!==this.teamBlock&&null!==this.teamBlockIndex){this.blocksCont.push(this.teamBlock.$container);for(var t=0;t<this.teamBlockIndex;t++)this.blocksCont.push(this.blocks[t].$cont);TweenLite.set(this.blocksCont,{opacity:0})}},e.prototype.showEnded=function(){var e=this;if(t.prototype.showEnded.call(this),null!=this.teamBlock&&0!==this.blocksCont.length){o.Utils.addClass(this.router.$body[0],"hide-overlay");var i=this.teamBlock.$cont.offset().top+o.Utils.getViewportSize().height;TweenLite.to(this.$cont,.6,{opacity:1,delay:0}),TweenLite.fromTo(this.blocksCont,1,{opacity:0},{opacity:1,delay:.8,onComplete:function(){o.Utils.removeClass(e.router.$body[0],"hide-overlay")}}),TweenLite.to(window,.1,{scrollTo:{y:i,autoKill:!1},delay:.6})}},e}(r.DefaultPage)}),define("abstract-block",["exports","loglevel","waitForImages","jquery","utils/debounce"],function(t,e,i,n,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractBlock=void 0;var a=s(e);s(i),s(n),t.AbstractBlock=function(){function t(e,i,n){r(this,t),n=n||"block",this.page=e,this.$cont=i,this.id=i[0].id,this.type=n,this.name=this.$cont.length?this.$cont[0].getAttribute("data-node-name"):"",this.onResizeDebounce=(0,o.debounce)(this.onResize.bind(this),50,!1),a["default"].debug("\ta??i?? #"+this.id+"\t"+n),this.init(),this.initEvents()}return t.prototype.init=function(){},t.prototype.initEvents=function(){this.$cont.find("img").length?this.$cont.waitForImages({finished:this.onLoad.bind(this),waitForAll:!0}):this.onLoad(),this.page.router.$window.on("resize",this.onResizeDebounce)},t.prototype.destroy=function(){a["default"].debug("\t?Y—‘ #"+this.id),this.destroyEvents()},t.prototype.destroyEvents=function(){this.page.router.$window.off("resize",this.onResizeDebounce)},t.prototype.onResize=function(){},t.prototype.onLoad=function(){},t.prototype.onPageReady=function(){},t}()}),define("common/abstract-header",["exports","jquery","utils/utils","utils/bootstrapMedia","utils/debounce","loglevel","abstract-block"],function(t,e,i,n,o,s,r){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractHeader=void 0,a(e),a(s),t.AbstractHeader=function(t){function e(){return c(this,e),l(this,t.apply(this,arguments))}return h(e,t),e.prototype.init=function(){var e=this;t.prototype.init.call(this),this.contSize=i.Utils.getViewportSize(),this.contSize.maxSide=this.contSize.width>this.contSize.height?this.contSize.width:this.contSize.height,this.isMobile=document.body.className.indexOf("is-mobile")>=0,this.itemActiveIndex=0,this.hasCanvas="0"!=this.$cont[0].getAttribute("data-canvas"),this.canvasInitialized=!1,this.$text=this.$cont.find(".header-text"),this.$image=this.$cont.find(".header-image"),this.page.isHome&&"mobile"==this.page.router.deviceType&&(this.$image=this.$cont.find(".header-image.is-image")),this.imageLength=this.$image.length,this.imgProps=[],this.imageLoaded=0;for(var n=function(t){var i=e.$image[t].getAttribute("data-type");if(""==i&&(i="image"),e.imgProps[t]=[],e.imgProps[t].type=i,"image"==i){var n=e.$image.eq(t).find("img");if(n.length){var o=n[0].src;e.$image[t].setAttribute("data-img",o),e.$image[t].style.backgroundImage="url("+o+")",e.$image[t].innerHTML="",e.imgProps[t].object=new Image,e.imgProps[t].object.src=o,e.imgProps[t].object.onload=e.imgOnLoad.bind(e,t)}}else if("video"==i)if("desktop"==e.page.router.deviceType){var s=e.$image.eq(t).find("video");s.length&&(e.imgProps[t].object=s[0]),setTimeout(function(){e.imgOnLoad(t)},200)}else{var r=e.$image.eq(t).find("video");if(r.length){var a=r[0].poster;e.$image[t].setAttribute("data-img",a),e.$image[t].style.backgroundImage="url("+a+")",e.$image[t].innerHTML="",e.imgProps[t].type="image",e.imgProps[t].object=new Image,e.imgProps[t].object.src=a,e.imgProps[t].object.onload=e.imgOnLoad.bind(e,t)}}},o=0;o<this.imageLength;o++)n(o);this.firstResize=!0,setTimeout(function(){e.onResize()},0)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.canvas&&this.canvas.destroy()},e.prototype.imgOnLoad=function(t){this.imageLoaded++,this.imgProps[t].initialWidth="image"==this.imgProps[t].type?this.imgProps[t].object.width:this.$image.eq(t).actual("outerWidth"),this.imgProps[t].initialHeight="image"==this.imgProps[t].type?this.imgProps[t].object.height:this.$image.eq(t).actual("outerHeight"),this.imgProps[t].ratio=this.imgProps[t].initialWidth/this.imgProps[t].initialHeight,this.imageLoaded==this.imageLength&&null!==this.canvas&&this.page.ready&&this.initCanvas()},e.prototype.initCanvas=function(){this.imageLoaded===this.imageLength&&null!==this.canvas&&!this.canvasInitialized&&this.page.ready&&(this.canvasInitialized=!0,this.imageLength&&"video"==this.imgProps[this.itemActiveIndex].type&&this.imgProps[this.itemActiveIndex].object.play(),this.resizeImages(),this.canvas.initDraw())},e.prototype.tryPauseVideo=function(){null!==this.canvas&&this.imageLength&&"video"==this.imgProps[this.itemActiveIndex].type&&this.imgProps[this.itemActiveIndex].object.pause()},e.prototype.tryPlayVideo=function(){null!==this.canvas&&this.imageLength&&"video"==this.imgProps[this.itemActiveIndex].type&&this.imgProps[this.itemActiveIndex].object.play()},e.prototype.unzoomImage=function(){if(this.hasCanvas){var t=this.imgProps[this.itemActiveIndex],e=t.unzoomed.width,i=t.unzoomed.height,n=t.unzoomed.x-t.xPercent*(t.unzoomed.x/2),o=t.unzoomed.y-t.yPercent*(t.unzoomed.x/2);this.contMoveReady=!1,TweenLite.to(this.imgProps[this.itemActiveIndex].current,1.2,{width:e,height:i,x:n,y:o}),TweenLite.to(this.canvas.circle.medium,.8,{current:this.canvas.circle.medium.unzoomed,delay:0})}},e.prototype.zoomImage=function(){if(this.hasCanvas){var t=this.imgProps[this.itemActiveIndex],e=t.initial.width,i=t.initial.height,n=t.initial.x-t.xPercent*(t.initial.x/2),o=t.initial.y-t.yPercent*(t.initial.x/2);TweenLite.to(this.imgProps[this.itemActiveIndex].current,1,{width:e,height:i,x:n,y:o}),TweenLite.to(this.canvas.circle.medium,.8,{current:this.canvas.circle.medium.initial,delay:0}),this.contMoveReady=!0}},e.prototype.hideCircles=function(t){if(this.$text.length){if("nav"==t&&!this.page.router.nav.opened)return void TweenLite.to(this.$text[this.itemActiveIndex],.6,{opacity:1});TweenLite.killTweensOf(this.$text[this.itemActiveIndex]),TweenLite.to(this.$text[this.itemActiveIndex],.6,{opacity:0})}null!==this.canvas&&("video"==this.imgProps[this.itemActiveIndex].type&&this.imgProps[this.itemActiveIndex].object.pause(),TweenLite.to(this.canvas.circle,.6,{opacity:0,delay:.4}),this.canvas.circle.transition=!0,TweenLite.to(this.canvas.circle.big,1,{current:this.canvas.circle.small,delay:0}),TweenLite.to(this.canvas.circle.medium,.8,{current:this.canvas.circle.small,delay:.2}),TweenLite.to(this.canvas.circle.mini,.8,{current:0,delay:.2}))},e.prototype.showCircles=function(t){var e=this;this.$text.length&&setTimeout(function(){return"nav"==t&&e.page.router.nav.opened?void TweenLite.to(e.$text[e.itemActiveIndex],.6,{opacity:0}):(TweenLite.killTweensOf(e.$text[e.itemActiveIndex]),void TweenLite.to(e.$text[e.itemActiveIndex],.6,{opacity:1}))},1400),null!==this.canvas&&(TweenLite.to(this.canvas.circle,.4,{opacity:1,delay:0}),TweenLite.to(this.canvas.circle.mini,.6,{current:this.canvas.circle.mini.initial,delay:.6}),TweenLite.to(this.canvas.circle.big,1.2,{current:this.canvas.circle.big.initial,delay:.8}),TweenLite.to(this.canvas.circle.medium,.6,{current:this.canvas.circle.medium.initial,delay:.8,onComplete:function(){"video"==e.imgProps[e.itemActiveIndex].type&&e.imgProps[e.itemActiveIndex].object.play()}}),this.canvas.circle.transition=!1)},e.prototype.onResize=function(e){t.prototype.onResize.call(this,e);var o=i.Utils.getViewportSize();if(o.$width=this.page.router.$window.width(),o.$height=this.page.router.$window.height(),!this.firstResize)if("desktop"==this.page.router.deviceType){if(o.width==this.contSize.width&&o.height==this.contSize.height)return}else if(o.$width==this.contSize.$width||o.$height==this.contSize.$height)return;this.contSize=o,this.$cont[0].style.height=this.contSize.height+"px",n.BootstrapMedia.isMinSM()&&"desktop"==this.page.router.deviceType&&(this.contSize.width=this.page.router.$window.innerWidth()),"homecarouselblock"==this.type&&n.BootstrapMedia.isMinSM()&&"desktop"==this.page.router.deviceType&&(this.contSize.width+=50,this.contSize.height+=50),this.imgProps.length&&this.imageLoaded&&this.resizeImages(),null!==this.canvas&&this.canvas.onResize(),this.firstResize&&(this.firstResize=!1)},e.prototype.resizeImages=function(){if(!(this.imageLoaded<this.imageLength))for(var t=0;t<this.imageLength;t++){var e=this.contSize.width/this.imgProps[t].initialWidth,i=this.contSize.height/this.imgProps[t].initialHeight,n=Math.max(e,i),o=parseInt(this.imgProps[t].initialWidth*n),s=parseInt(this.imgProps[t].initialHeight*n);parseInt(.5*-o)+this.contSize.width/2,parseInt(.5*-s)+this.contSize.height/2,this.imgProps[t].initial={width:parseInt(1.1*o),height:parseInt(1.1*s),x:parseInt(1.1*-o*.5+this.contSize.width/2),y:parseInt(1.1*-s*.5+this.contSize.height/2)},this.imgProps[t].current={width:parseInt(1.1*o),height:parseInt(1.1*s),x:parseInt(1.1*-o*.5+this.contSize.width/2),y:parseInt(1.1*-s*.5+this.contSize.height/2)},this.imgProps[t].unzoomed={width:parseInt(1.05*o),height:parseInt(1.05*s),x:parseInt(1.05*-o*.5+this.contSize.width/2),y:parseInt(1.05*-s*.5+this.contSize.height/2)}}},e}(r.AbstractBlock)}),define("canvas/path",["exports","utils/utils"],function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Path=void 0,t.Path=function(){function t(n,o){i(this,t),this.canvas=n,this.parent=o,this.arrays=[],this.setArrays(),this.indexPicked=e.Utils.getRandomInt(0,this.arrays.length-1),this.points=this.arrays[this.indexPicked],this.defineBeziers()}return t.prototype.setArrays=function(){this.arrays[0]=[{x:-10,y:this.parent.contSize.height/2,yDest:Math.round(.21*this.parent.contSize.height),angle:0,length:0,ctrlX:0,ctrlY:0},{x:Math.round(.1*this.parent.contSize.width),y:this.parent.contSize.height/2,yDest:Math.round(.25*this.parent.contSize.height),angle:35,length:Math.round(.05*this.parent.contSize.width),ctrlX:0,ctrlY:0},{x:Math.round(.2*this.parent.contSize.width),y:this.parent.contSize.height/2,yDest:Math.round(.36*this.parent.contSize.height),angle:90,length:Math.round(.05*this.parent.contSize.width),ctrlX:0,ctrlY:0},{x:Math.round(.3*this.parent.contSize.width),y:this.parent.contSize.height/2,yDest:Math.round(.58*this.parent.contSize.height),angle:90,length:Math.round(.05*this.parent.contSize.width),ctrlX:0,ctrlY:0},{x:Math.round(.4*this.parent.contSize.width),y:this.parent.contSize.height/2,yDest:Math.round(.55*this.parent.contSize.height),angle:75,length:Math.round(.05*this.parent.contSize.width),ctrlX:0,ctrlY:0},{x:this.parent.contSize.width/2,y:this.parent.contSize.height/2,yDest:this.parent.contSize.height/2,angle:90,length:Math.round(.035*this.parent.contSize.width),ctrlX:0,ctrlY:0},{x:Math.round(.6*this.parent.contSize.width),y:this.parent.contSize.height/2,yDest:Math.round(.45*this.parent.contSize.height),angle:90,length:Math.round(.035*this.parent.contSize.width),ctrlX:0,ctrlY:0},{x:Math.round(.7*this.parent.contSize.width),y:this.parent.contSize.height/2,yDest:Math.round(.58*this.parent.contSize.height),angle:90,length:Math.round(.05*this.parent.contSize.width),ctrlX:0,ctrlY:0},{x:Math.round(.8*this.parent.contSize.width),y:this.parent.contSize.height/2,yDest:Math.round(.555*this.parent.contSize.height),angle:90,length:Math.round(.025*this.parent.contSize.width),ctrlX:0,ctrlY:0},{x:Math.round(.9*this.parent.contSize.width),y:this.parent.contSize.height/2,yDest:Math.round(.69*this.parent.contSize.height),angle:60,length:Math.round(.05*this.parent.contSize.width),ctrlX:0,ctrlY:0},{x:this.parent.contSize.width+10,y:this.parent.contSize.height/2,yDest:Math.round(.685*this.parent.contSize.height),angle:0,length:0,ctrlX:0,ctrlY:0}],this.arrays[1]=[{x:-10,y:this.parent.contSize.height/2,yDest:Math.round(.455*this.parent.contSize.height),angle:0,length:0,ctrlX:0,ctrlY:0},{x:Math.round(.1*this.parent.contSize.width),y:this.parent.contSize.height/2,yDest:Math.round(.415*this.parent.contSize.height),angle:135,length:Math.round(.05*this.parent.contSize.width),ctrlX:0,ctrlY:0},{x:Math.round(.2*this.parent.contSize.width),y:this.parent.contSize.height/2,yDest:Math.round(.395*this.parent.contSize.height),angle:65,length:Math.round(.04*this.parent.contSize.width),ctrlX:0,ctrlY:0},{x:Math.round(.3*this.parent.contSize.width),y:this.parent.contSize.height/2,yDest:Math.round(.435*this.parent.contSize.height),angle:0,length:0,ctrlX:0,ctrlY:0},{x:Math.round(.4*this.parent.contSize.width),y:this.parent.contSize.height/2,yDest:Math.round(.46*this.parent.contSize.height),angle:0,length:0,ctrlX:0,ctrlY:0},{x:this.parent.contSize.width/2,y:this.parent.contSize.height/2,yDest:this.parent.contSize.height/2,angle:70,length:Math.round(.02*this.parent.contSize.width),ctrlX:0,ctrlY:0},{x:Math.round(.6*this.parent.contSize.width),y:this.parent.contSize.height/2,yDest:Math.round(.53*this.parent.contSize.height),angle:85,length:Math.round(.05*this.parent.contSize.width),ctrlX:0,ctrlY:0},{x:Math.round(.7*this.parent.contSize.width),y:this.parent.contSize.height/2,yDest:Math.round(.565*this.parent.contSize.height),angle:85,length:Math.round(.05*this.parent.contSize.width),ctrlX:0,ctrlY:0},{x:Math.round(.8*this.parent.contSize.width),y:this.parent.contSize.height/2,yDest:Math.round(.52*this.parent.contSize.height),angle:135,length:Math.round(.025*this.parent.contSize.width),ctrlX:0,ctrlY:0},{x:Math.round(.9*this.parent.contSize.width),y:this.parent.contSize.height/2,yDest:Math.round(.465*this.parent.contSize.height),angle:95,length:Math.round(.025*this.parent.contSize.width),ctrlX:0,ctrlY:0},{x:this.parent.contSize.width+10,y:this.parent.contSize.height/2,yDest:Math.round(.455*this.parent.contSize.height),angle:100,length:Math.round(.05*this.parent.contSize.width),ctrlX:0,ctrlY:0}]},t.prototype.defineBeziers=function(){for(var t=0;t<this.points.length;t++)this.points[t].ctrlXDest=Math.sin(Math.PI*this.points[t].angle/180)*this.points[t].length,this.points[t].ctrlYDest=Math.cos(Math.PI*this.points[t].angle/180)*this.points[t].length;this.pointsBezier=[];for(var e=0;e<this.points.length;e++){var i=0==e?0:e-1;this.pointsBezier.push({initial:{cp1x:this.points[i].x+this.points[i].ctrlX,cp1y:this.points[i].y+this.points[i].ctrlY,cp2x:this.points[e].x-this.points[e].ctrlX,cp2y:this.points[e].y-this.points[e].ctrlY,x:this.points[e].x,y:this.points[e].y},dest:{cp1x:this.points[i].x+this.points[i].ctrlXDest,cp1y:this.points[i].yDest+this.points[i].ctrlYDest,cp2x:this.points[e].x-this.points[e].ctrlXDest,cp2y:this.points[e].yDest-this.points[e].ctrlYDest,x:this.points[e].x,y:this.points[e].yDest}}),this.pointsBezier[e].current=this.canvas.pathAnimated?this.pointsBezier[e].dest:this.pointsBezier[e].initial}},t.prototype.getCubicBezierXYatPercent=function(t,e,i,n,o){var s=this.cubicN(o,t.x,e.x,i.x,n.x),r=this.cubicN(o,t.y,e.y,i.y,n.y);return{x:s,y:r}},t.prototype.cubicN=function(t,e,i,n,o){var s=t*t,r=s*t;return e+(3*-e+t*(3*e-e*t))*t+(3*i+t*(-6*i+3*i*t))*t+(3*n-3*n*t)*s+o*r},t.prototype.onResize=function(t){this.setArrays(),this.points=this.arrays[this.indexPicked],this.defineBeziers()},t}()}),define("canvas/abstract-header-canvas",["exports","jquery","TweenMax","utils/utils","utils/bootstrapMedia","canvas/path"],function(t,e,i,n,o,s){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractHeaderCanvas=void 0,r(e),r(i),t.AbstractHeaderCanvas=function(){function t(e,i){a(this,t),this.canvas=e,this.parent=i,this.init()}return t.prototype.createLayer=function(){var t=document.createElement("canvas");return this.setLayerSize(t),t},t.prototype.clearLayer=function(t){t.clearRect(0,0,this.parent.contSize.width,this.parent.contSize.height)},t.prototype.setLayerSize=function(t){t.width=this.parent.contSize.width*this.pixelRatio,t.height=this.parent.contSize.height*this.pixelRatio},t.prototype.init=function(){this.mediaCanvas=this.createLayer(),this.tempCanvasSmall=this.createLayer(),this.mediaCanvasCtx=this.mediaCanvas.getContext("2d"),this.tempCtxSmall=this.tempCanvasSmall.getContext("2d"),this.ctx=this.canvas.getContext("2d"),this.pixelRatio=this.getPixelRatio(this.ctx);var t=Math.sqrt(Math.pow(this.parent.contSize.width/2,2)+Math.pow(this.parent.contSize.height/2,2));this.drawRAF=null,this.bindedDraw=this._draw.bind(this),this.isActive=!1,this.switchActive=!1;var e=o.BootstrapMedia.isMinSM()?150:80;o.BootstrapMedia.isMinMD()&&(e=200),this.circle={big:{initial:t,current:3.5,color:"header-news"!==this.parent.id?"rgba(24,24,24,0.8)":"rgba(56,174,114,0.8)"},medium:{initial:e,current:3.5,unzoomed:Math.round(.9*e)},mini:{image:25,initial:25,current:0,opacity:0},opacity:0,small:3.5,transition:!0}},t.prototype.destroy=function(){this.isActive=!1},t.prototype.initDraw=function(){var t=this;this.isActive=!0,this._draw(),TweenLite.to(this.circle,1,{opacity:1,delay:.5}),TweenLite.to(this.circle.big,1.2,{current:this.circle.big.initial,delay:.5}),TweenLite.to(this.circle.medium,.6,{current:this.circle.medium.initial,delay:.5}),TweenLite.to(this.circle.mini,1,{current:this.circle.mini.initial,opacity:0,delay:.5,onComplete:function(){t.circle.transition=!1}})},t.prototype.centerCircle=function(t,e){t.arc(this.parent.contSize.width/2,this.parent.contSize.height/2,e,0,2*Math.PI,!1)},t.prototype._draw=function(){this.clearLayer(this.ctx),this.draw(),this.isActive?this.drawRAF=requestAnimFrame(this.bindedDraw):null!==this.drawRAF&&cancelAnimFrame(this.drawRAF)},t.prototype.draw=function(){this.drawMedia(this.mediaCanvasCtx),this.drawSmallCircle(this.tempCtxSmall),this.ctx.drawImage(this.mediaCanvas,0,0),this.ctx.drawImage(this.tempCanvasSmall,0,0)},t.prototype.drawMedia=function(t){if(0!=this.parent.imageLength){var e=this.parent.imgProps[this.parent.itemActiveIndex];this.clearLayer(t),t.save(),t.drawImage(e.object,e.current.x,e.current.y,e.current.width,e.current.height),t.beginPath(),this.centerCircle(t,this.circle.big.current),t.globalCompositeOperation="destination-in",t.globalAlpha=this.circle.opacity,t.fillStyle="rgba(0,0,0,1)",t.fill(),t.restore()}},t.prototype.drawSmallCircle=function(t){0!=this.parent.imageLength&&(this.clearLayer(t),t.save(),this.centerCircle(t,this.circle.big.current),t.globalAlpha=this.circle.opacity,t.fillStyle=this.circle.big.color,t.fill(),t.beginPath(),this.centerCircle(t,this.circle.medium.current),t.globalCompositeOperation="destination-out",t.fill(),t.restore())},t.prototype.getPixelRatio=function(t){return t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1,window.devicePixelRatio||1,1},t.prototype.onResize=function(t){this.setLayerSize(this.canvas),this.setLayerSize(this.tempCanvasSmall),this.setLayerSize(this.mediaCanvas),this.canvas.style.width=this.parent.contSize.width+"px",this.canvas.style.height=this.parent.contSize.height+"px",this.ctx.scale(this.pixelRatio,this.pixelRatio);var e=Math.sqrt(Math.pow(this.parent.contSize.width/2,2)+Math.pow(this.parent.contSize.height/2,2));this.circle.big.initial=e,this.circle.transition||(this.circle.big.current=e);var i=o.BootstrapMedia.isMinSM()?150:80;o.BootstrapMedia.isMinMD()&&(i=200),this.circle.medium.initial=i,this.circle.transition||(this.circle.medium.current=i),this.circle.medium.unzoomed=Math.round(.9*i)},t}()}),define("canvas/header-canvas",["exports","jquery","TweenMax","utils/utils","canvas/path","canvas/abstract-header-canvas"],function(t,e,i,n,o,s){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderCanvas=void 0,r(e),r(i),t.HeaderCanvas=function(t){function e(){return a(this,e),c(this,t.apply(this,arguments))}return l(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.dots={},this.dotsOpacity={val:0},this.dotsActive=!0,this.path=new o.Path(this,this.parent),this.pathOpacity={val:0},this.pathAnimated=!1,this.dots.target=[],this.dots.target.push({x:this.path.pointsBezier[0].dest.x-10,y:this.path.pointsBezier[0].dest.y-10,indexBezier:0}),this.dots.target.push({x:this.path.pointsBezier[1].dest.x,y:this.path.pointsBezier[1].dest.y,indexBezier:1}),this.dots.target.push({x:this.path.pointsBezier[3].dest.x,y:this.path.pointsBezier[3].dest.y,indexBezier:3}),this.dots.target.push({x:this.path.pointsBezier[5].dest.x,y:this.path.pointsBezier[5].dest.y,indexBezier:5}),this.dots.target.push({x:this.path.pointsBezier[7].dest.x,y:this.path.pointsBezier[7].dest.y,indexBezier:7}),this.dots.target.push({x:this.path.pointsBezier[9].dest.x,y:this.path.pointsBezier[9].dest.y,indexBezier:9}),this.dots.target.push({x:this.path.pointsBezier[10].dest.x+10,y:this.path.pointsBezier[10].dest.y+10,indexBezier:10}),this.dots.points=[];for(var e=0;5>e;e++){var i=e+1;this.dots.points[e]={x:this.dots.target[i].x,y:this.dots.target[i].y,indexBezier:this.dots.target[i].indexBezier}}},e.prototype.initDraw=function(){var e=this;t.prototype.initDraw.call(this),TweenLite.to(this.pathOpacity,1,{val:1,delay:0}),TweenLite.to(this.dotsOpacity,.6,{val:1,delay:1.6});for(var i=0;i<this.path.pointsBezier.length;i++)TweenLite.to(this.path.pointsBezier[i].current,1,{cp1x:this.path.pointsBezier[i].dest.cp1x,cp1y:this.path.pointsBezier[i].dest.cp1y,cp2x:this.path.pointsBezier[i].dest.cp2x,cp2y:this.path.pointsBezier[i].dest.cp2y,y:this.path.pointsBezier[i].dest.y,delay:1});setTimeout(function(){e.pathAnimated=!0},2e3)},e.prototype.draw=function(){t.prototype.draw.call(this),this.drawLine(),this.drawDots()},e.prototype.drawLine=function(){this.ctx.save(),this.ctx.beginPath(),this.ctx.moveTo(this.path.pointsBezier[0].x,this.path.pointsBezier[0].y);for(var t=1;t<this.path.pointsBezier.length;t++)this.ctx.bezierCurveTo(this.path.pointsBezier[t].current.cp1x,this.path.pointsBezier[t].current.cp1y,this.path.pointsBezier[t].current.cp2x,this.path.pointsBezier[t].current.cp2y,this.path.pointsBezier[t].current.x,this.path.pointsBezier[t].current.y);this.ctx.globalAlpha=this.pathOpacity.val,this.ctx.fillStyle="transparent",this.ctx.strokeStyle="rgba(255,255,255,0.2)",this.ctx.stroke(),this.ctx.restore()},e.prototype.drawDots=function(){if(this.dotsActive){for(var t=0;t<this.dots.points.length;t++)this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.dots.points[t].x,this.dots.points[t].y,this.circle.small,0,2*Math.PI,!1),this.ctx.globalAlpha=this.dotsOpacity.val,this.ctx.fillStyle="#ffffff",this.ctx.fill(),this.ctx.restore();this.switchActive&&(this.switchFirst=!1)}},e.prototype.onResize=function(e){null!==this.path&&this.path.onResize(),t.prototype.onResize.call(this);for(var i=0;i<this.dots.points.length;i++){var n=this.dots.points[i].indexBezier;this.dots.points[i].x=this.path.pointsBezier[n].dest.x,this.dots.points[i].y=this.path.pointsBezier[n].dest.y}for(var o=0;o<this.dots.target.length;o++){var s=this.dots.target[o].indexBezier;this.dots.target[o].x=this.path.pointsBezier[s].dest.x,this.dots.target[o].y=this.path.pointsBezier[s].dest.y}},e}(s.AbstractHeaderCanvas)}),define("common/header",["exports","jquery","utils/utils","utils/bootstrapMedia","utils/debounce","loglevel","common/abstract-header","canvas/header-canvas"],function(t,e,i,n,o,s,r,a){"use strict";function c(t){return t&&t.__esModule?t:{"default":t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0,c(e),c(s),t.Header=function(t){function e(){return l(this,e),h(this,t.apply(this,arguments))}return u(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.$canvas=this.$cont.find(".header-canvas"),this.canvas=this.$canvas.length?new a.HeaderCanvas(this.$canvas[0],this):null,null!==this.canvas&&this.$text.css("opacity",0)},e.prototype.initCanvas=function(){t.prototype.initCanvas.call(this),TweenLite.fromTo(this.$text,1,{opacity:0},{opacity:1,delay:1})},e.prototype.hideCircles=function(e){var i=this;t.prototype.hideCircles.call(this,e),null!==this.canvas&&setTimeout(function(){("nav"!=e||i.page.router.nav.opened)&&(TweenLite.killTweensOf([i.canvas.dotsOpacity,i.canvas.pathOpacity]),TweenLite.to([i.canvas.dotsOpacity,i.canvas.pathOpacity],.4,{val:0}))},600)},e.prototype.showCircles=function(e){var i=this;t.prototype.showCircles.call(this,e),null!==this.canvas&&setTimeout(function(){"nav"==e&&i.page.router.nav.opened||(TweenLite.killTweensOf([i.canvas.dotsOpacity,i.canvas.pathOpacity]),TweenLite.to([i.canvas.dotsOpacity,i.canvas.pathOpacity],.6,{val:1}))},1e3)},e}(r.AbstractHeader)}),define("pages/projectcontainer",["exports","pages/default-page","common/header","utils/utils","utils/bootstrapMedia","loglevel"],function(t,e,i,n,o,s){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectContainer=void 0,r(s),t.ProjectContainer=function(t){function e(){return a(this,e),c(this,t.apply(this,arguments))}return l(e,t),e.prototype.init=function(){var e=this;t.prototype.init.call(this),this.$header=this.$cont.find(".projects-all-header"),this.$headerImage=this.$cont.find(".header-image"),this.$canvas=this.$cont.find(".projects-list-canvas"),this.layout=this.$cont[0].getAttribute("data-layout"),this.$switchLink=this.$cont.find(".project-switch-link"),this.switchLinkIndex=0,this.otherLinkHover=0,this.linkHover=!1,this.linkClicked=!1;for(var i=0;i<this.$switchLink.length;i++)if(this.$switchLink[i].className.indexOf("active")>=0){this.switchLinkIndex=i;break}this.moreActivated=!1,this.$navWrapper=this.$cont.find(".projects-nav-wrapper"),this.$switchNav=this.$cont.find(".project-switch-nav"),this.$switchNavCurrent=this.$cont.find(".project-switch-nav-current"),this.$filtersCont=this.$cont.find(".all-projects-tags"),this.$filtersBtn=this.$filtersCont.find(".all-projects-tags-switch"),this.$filtersWrapper=this.$cont.find(".all-projects-tags-wrapper"),this.$filtersList=this.$filtersWrapper.find(".all-projects-tags-list"),this.$filtersLink=this.$cont.find(".all-projects-tag-link"),this.isFiltersNavOpen=!1,this.$projectRow=this.$cont.find(".all-projects-row"),this.$projectList=this.$cont.find(".all-projects-list"),this.$projectMoreTemp=this.$cont.find(".all-projects-more-temp"),this.$moreBtn=this.$cont.find(".more-item-link"),this.$container=this.$cont.find(".all-projects-cont"),this.$item=this.$cont.find(".all-projects-list-item"),setTimeout(function(){"static"==e.context&&o.BootstrapMedia.isMinSM()&&e.router.footer.hide()},0),this.onResize()},e.prototype.initEvents=function(){t.prototype.initEvents.call(this),this.$switchLink.on("mouseenter",this.switchLinkOnEnter.bind(this)),this.$switchLink.on("mouseleave",this.switchLinkOnLeave.bind(this)),this.$switchLink.on("click",this.switchLinkClick.bind(this)),this.$filtersBtn.on("click",this.toggleFiltersNav.bind(this)),this.$filtersLink.on("click",this.filtersLinkClick.bind(this)),this.$moreBtn.on("click",this.moreBtnClick.bind(this));
},e.prototype.destroyEvents=function(){t.prototype.destroyEvents.call(this),this.$switchLink.off("mouseenter",this.switchLinkOnEnter.bind(this)),this.$switchLink.off("mouseleave",this.switchLinkOnLeave.bind(this)),this.$switchLink.off("click",this.switchLinkClick.bind(this)),this.$filtersBtn.off("click",this.toggleFiltersNav.bind(this)),this.$filtersLink.off("click",this.filtersLinkClick.bind(this)),this.$moreBtn.off("click",this.moreBtnClick.bind(this))},e.prototype.switchLinkOnEnter=function(t){var e=this;if(!this.linkClicked){var i=Number(t.currentTarget.getAttribute("data-index")),n=!1;i!==this.switchLinkIndex&&(this.otherLinkHover=!0),this.linkHover=!0,n=!this.otherLinkHover&&i==this.switchLinkIndex,0===i?(n||TweenLite.to(this.$switchNavCurrent,.4,{right:"0%",left:"0%"}),TweenLite.to(this.$switchNavCurrent,.4,{right:"50%",left:"0%",delay:.2})):(n||TweenLite.to(this.$switchNavCurrent,.4,{left:"0%",right:"0%"}),TweenLite.to(this.$switchNavCurrent,.4,{left:"50%",right:"0%",delay:.2})),setTimeout(function(){e.linkHover=!1},200)}},e.prototype.switchLinkOnLeave=function(t){var e=this;if(!this.linkClicked){var i=Number(t.currentTarget.getAttribute("data-index"));i!==this.switchLinkIndex&&(setTimeout(function(){e.linkHover||(0===e.switchLinkIndex?0:100,0===e.switchLinkIndex?"0% 0%":"100% 0%",0===e.switchLinkIndex?"100% 0%":"0% 0%",TweenLite.killTweensOf(e.$switchNavCurrent),0===e.switchLinkIndex?(TweenLite.to(e.$switchNavCurrent,.4,{left:"0%",right:"0%"}),TweenLite.to(e.$switchNavCurrent,.4,{right:"50%",delay:.2})):(TweenLite.to(e.$switchNavCurrent,.4,{right:"0%",left:"0%"}),TweenLite.to(e.$switchNavCurrent,.4,{left:"50%",delay:.2})))},100),setTimeout(function(){e.otherLinkHover=!1},200))}},e.prototype.switchLinkClick=function(t){-1==t.currentTarget.className.indexOf("active")&&(this.linkClicked=!0)},e.prototype.toggleFiltersNav=function(){this.isFiltersNavOpen?(this.closeFiltersNav(),this.$filtersBtn.removeClass("active")):(this.openFiltersNav(),this.$filtersBtn.addClass("active"))},e.prototype.closeFiltersNav=function(){TweenLite.to(this.$filtersWrapper,.6,{height:0}),this.$filtersBtn.blur(),this.isFiltersNavOpen=!1},e.prototype.openFiltersNav=function(){TweenLite.to(this.$filtersWrapper,.6,{height:this.$filtersList.innerHeight()}),this.isFiltersNavOpen=!0},e.prototype.filtersLinkClick=function(t){var e=this,i=$(t.currentTarget),o=i[0].className.indexOf("active")>=0?this.$filtersList[0].getAttribute("data-url"):t.currentTarget.href;i[0].className.indexOf("active")>=0?n.Utils.removeClass(i[0],"active"):(this.$filtersLink.removeClass("active"),n.Utils.addClass(i[0],"active")),$.ajax({url:o,type:"get",success:function(t){e.refreshItems(t)}}),t.preventDefault()},e.prototype.refreshItems=function(t){var e=this,i=null,n=$($.parseHTML(t.trim()));i=n.hasClass("all-projects-list")?n:n.find(".all-projects-list"),o.BootstrapMedia.isMinSM()||this.toggleFiltersNav(),TweenLite.to(this.$projectList,.6,{opacity:0}),null!==i&&setTimeout(function(){e.$projectList[0].innerHTML=i[0].innerHTML,e.$link.length&&e.router.options.ajaxEnabled&&e.$link.off("click",e.bindedLinkClick),e.$link=e.$cont.find("a").not('[target="_blank"]'),e.$link.length&&e.router.options.ajaxEnabled&&e.$link.on("click",e.bindedLinkClick)},700),TweenLite.to(this.$projectList,.6,{opacity:1,delay:.8});var s=n.find(".more-item-cont");if(s.length){var r=n.find(".more-item-link");this.$moreBtn.length?(this.$moreBtn[0].href=r[0].href,this.$moreBtn[0].style.display="inline-block",TweenLite.to(this.$moreBtn,1,{opacity:1})):this.$projectRow.append(s)}else this.$moreBtn.length&&(this.$moreBtn[0].style.display="none");this.refreshSelectorsAndEvents()},e.prototype.refreshSelectorsAndEvents=function(){this.$moreBtn.off("click",this.moreBtnClick.bind(this)),this.$moreBtn=this.$cont.find(".more-item-link"),this.$moreBtn.on("click",this.moreBtnClick.bind(this))},e.prototype.moreBtnClick=function(t){var e=this;$.ajax({url:t.currentTarget.href,type:"get",success:function(t){e.appendItems(t)}}),t.preventDefault()},e.prototype.appendItems=function(t){var e=this;this.moreActivated=!0,this.$projectMoreTemp.append(t);var i=this.$projectMoreTemp.find(".all-projects-list"),n=i.find(".all-projects-list-item"),o=this.$projectMoreTemp.find(".more-item-link");n.addClass("all-projects-list-item-hidden"),this.$projectList.append(i[0].innerHTML),o.length?this.$moreBtn[0].href=o[0].href:TweenLite.to(this.$moreBtn,.6,{opacity:0,onComplete:function(){e.$moreBtn[0].style.display="none"}}),this.$container[0].style.height="",this.$projectMoreTemp[0].innerHTML="",this.$link.length&&this.router.options.ajaxEnabled&&this.$link.off("click",this.bindedLinkClick),this.$link=this.$cont.find("a").not('[target="_blank"]'),this.$item=this.$cont.find(".all-projects-list-item"),setTimeout(function(){e.$item.removeClass("all-projects-list-item-hidden")},600),this.$link.length&&this.router.options.ajaxEnabled&&this.$link.on("click",this.bindedLinkClick)},e.prototype.prePushState=function(e){if(t.prototype.prePushState.call(this,e),o.BootstrapMedia.isMinSM())if("projectcontainer_to_projectcontainer"!==e.transition&&TweenLite.to(this.$switchNav,.6,{opacity:0}),"selection"==this.layout){var i=this.getBlockById("projects-list");null!==i&&(i.hide(),i.hideMediumCircle())}else"all"==this.layout&&TweenLite.to([this.$filtersCont,this.$container,this.$filtersWrapper],.6,{opacity:0})},e.prototype.show=function(e){var i=this;if("static"==this.context)return void t.prototype.show.call(this,e);var n=this.router.state.transition,s=this.getHeaderBlock();if("projectcontainer_to_projectcontainer"==n){var r=1e3;this.$navWrapper.length&&(this.$navWrapper[0].style.opacity=1),"all"==this.layout?(TweenLite.to(this.$header,1,{opacity:1}),TweenLite.to([this.$filtersCont,this.$container],1,{opacity:1,delay:.6}),setTimeout(function(){e()},1e3)):(r=1800,null!==s&&setTimeout(function(){s.initCanvas()},800),TweenLite.to(this.$cont,1,{opacity:1,delay:.8,onComplete:function(){e()}})),setTimeout(function(){i.$navWrapper[0].removeAttribute("style")},r)}else{if(!o.BootstrapMedia.isMinSM())return void t.prototype.show.call(this,e);var a=1e3;this.$canvas.length&&TweenLite.to(this.$canvas,1,{opacity:1}),"project_to_projectcontainer"==n&&(this.router.nav.$barLogo[0].style.opacity=0,"selection"==this.layout?(a=2e3,null!==s&&setTimeout(function(){s.initCanvas()},100)):TweenLite.to(this.$header,1,{opacity:1})),TweenLite.to(this.$headerImage,1,{opacity:1,onComplete:function(){}}),setTimeout(function(){e()},a),setTimeout(function(){i.router.nav.$barLogo[0].removeAttribute("style")},a+200)}},e.prototype.hide=function(e){if("projectcontainer_to_projectcontainer"==this.router.state.transition)"selection"==this.layout?setTimeout(function(){e()},800):setTimeout(function(){e()},1700);else{if(!o.BootstrapMedia.isMinSM())return void t.prototype.hide.call(this,e);"projectcontainer_to_project"==this.router.state.transition?setTimeout(function(){e()},1e3):t.prototype.hide.call(this,e)}},e.prototype.onResize=function(){t.prototype.onResize.call(this);var e=n.Utils.getViewportSize();if(this.$header.length&&(this.$header[0].style.height=e.height+"px"),"all"==this.layout&&o.BootstrapMedia.isMinSM){var i=e.height,s=$("#footer");s.length&&(i-=s.height()),this.$cont[0].style.minHeight=i+"px"}},e}(e.DefaultPage)}),define("pages/two-cols-page",["exports","pages/default-page","utils/utils","utils/bootstrapMedia"],function(t,e,i,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.TwoColsPage=void 0,t.TwoColsPage=function(t){function e(){return o(this,e),s(this,t.apply(this,arguments))}return r(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.hasHeader=!1,this.$leftWrapperCont=this.$cont.find(".left-wrapper-cont"),this.$backToParent=this.$cont.find(".back-to-parent"),this.$rightWrapperCont=this.$cont.find(".right-wrapper-cont"),this.$rightWrapperInner=this.$cont.find(".right-wrapper-inner"),this.transformProp=i.Utils.prefixProperty("transform")},e.prototype.prePushState=function(e){if(t.prototype.prePushState.call(this,e),n.BootstrapMedia.isMinSM()){var o=(e.transition,i.Utils.getViewportSize().width,this.$rightWrapperCont.actual("width"));TweenLite.to(this.$rightWrapperCont,.6,{x:o,delay:1}),TweenLite.to(this.$backToParent,.6,{opacity:0})}},e.prototype.show=function(e){var o=this;if(!n.BootstrapMedia.isMinSM()||"static"==this.context)return void t.prototype.show.call(this,e);var s=this.router.state.transition,r=(i.Utils.getViewportSize().width,this.$rightWrapperCont.actual("width"));"project_to_project"==s||"news_to_news"==s||"person_to_person"==s?(TweenLite.to(this.$leftWrapperCont,1,{opacity:1,delay:0}),TweenLite.fromTo(this.$rightWrapperCont,1,{x:r},{x:0,delay:.4,onComplete:function(){setTimeout(function(){e(),o.$rightWrapperCont[0].removeAttribute("style")},100)}})):(TweenLite.to(this.$leftWrapperCont,.6,{opacity:1,delay:.4}),TweenLite.fromTo(this.$rightWrapperCont,1,{x:r},{x:0,delay:.4,onComplete:function(){setTimeout(function(){e(),o.$rightWrapperCont[0].removeAttribute("style")},100)}}))},e.prototype.hide=function(e){if(!n.BootstrapMedia.isMinSM())return void t.prototype.hide.call(this,e);var o=this.router.state.transition,s=(i.Utils.getViewportSize().width,this.$rightWrapperCont.actual("width"));if("news_to_newscontainer"==o||"person_to_page"==o&&"l-agence"==this.router.state.nodeName)TweenLite.to(this.$leftWrapperCont,.4,{opacity:0,delay:.5}),setTimeout(function(){e()},900);else if("project_to_projectcontainer"==o){var r=1300;"all"==this.router.page.layout&&(r=1e3,TweenLite.to(this.$leftWrapperCont,.4,{opacity:0,delay:.3})),setTimeout(function(){e()},r)}else"project_to_project"==o||"news_to_news"==o||"person_to_person"==o?TweenLite.to(this.$rightWrapperCont,.8,{x:s,delay:0,onComplete:function(){setTimeout(function(){e()},100)}}):t.prototype.hide.call(this,e)},e}(e.DefaultPage)}),define("pages/project",["exports","pages/two-cols-page"],function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Project=void 0,t.Project=function(t){function e(){return i(this,e),n(this,t.apply(this,arguments))}return o(e,t),e}(e.TwoColsPage)}),define("pages/newscontainer",["exports","pages/default-page","TweenMax","scrollTo","common/header","utils/utils","utils/bootstrapMedia","loglevel"],function(t,e,i,n,o,s,r,a){"use strict";function c(t){return t&&t.__esModule?t:{"default":t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.NewsContainer=void 0,c(i),c(n),c(a),t.NewsContainer=function(t){function e(){return l(this,e),h(this,t.apply(this,arguments))}return u(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.$newsTags=this.$cont.find(".all-news-tags"),this.$tagsList=this.$cont.find(".all-news-tags-list"),this.$filtersBtn=this.$cont.find(".all-news-tags-switch"),this.$tagsWrapper=this.$cont.find(".all-news-tags-wrapper"),this.$filtersList=this.$tagsWrapper.find(".all-news-tags-list"),this.$filtersLink=this.$cont.find(".all-projects-tag-link"),this.isFiltersNavOpen=!1,this.$newsCont=this.$cont.find(".news-container-wrapper"),this.$newsRow=this.$cont.find(".news-row"),this.$newsList=this.$cont.find(".news-list"),this.$newsMoreTemp=this.$cont.find(".news-more-temp"),this.$moreBtn=this.$cont.find(".more-news-btn"),this.$form=this.$cont.find(".mailchimp-form").eq(0),this.$inputForm=this.$form.find(".form-control")},e.prototype.initEvents=function(){t.prototype.initEvents.call(this),this.$filtersBtn.on("click",this.toggleFiltersNav.bind(this)),this.$filtersLink.on("click",this.filtersLinkClick.bind(this)),this.$moreBtn.on("click",this.moreBtnClick.bind(this)),this.$inputForm.length&&(this.$inputForm.on("focusin",this.onFocusIn.bind(this)),this.$inputForm.on("focusout",this.onFocusOut.bind(this)))},e.prototype.destroyEvents=function(){t.prototype.destroyEvents.call(this),this.$filtersBtn.off("click",this.toggleFiltersNav.bind(this)),this.$filtersLink.off("click",this.filtersLinkClick.bind(this)),this.$moreBtn.on("click",this.moreBtnClick.bind(this)),this.$inputForm.length&&(this.$inputForm.off("focusin",this.onFocusIn.bind(this)),this.$inputForm.off("focusout",this.onFocusOut.bind(this)))},e.prototype.toggleFiltersNav=function(t){t.preventDefault(),this.isFiltersNavOpen?(this.closeFiltersNav(),this.$filtersBtn.removeClass("active")):(this.openFiltersNav(),this.$filtersBtn.addClass("active"))},e.prototype.closeFiltersNav=function(){TweenLite.to(this.$tagsWrapper,.6,{height:0}),this.$filtersBtn.blur(),this.isFiltersNavOpen=!1},e.prototype.openFiltersNav=function(){TweenLite.to(this.$tagsWrapper,.6,{height:this.$filtersList.innerHeight()}),this.isFiltersNavOpen=!0},e.prototype.filtersLinkClick=function(t){var e=this,i=$(t.currentTarget),n=(i[0].getAttribute("data-name"),i[0].className.indexOf("active")>=0?this.$filtersList[0].getAttribute("data-url"):t.currentTarget.href);i[0].className.indexOf("active")>=0?s.Utils.removeClass(i[0],"active"):(this.$filtersLink.removeClass("active"),s.Utils.addClass(i[0],"active")),$.ajax({url:n,type:"get",success:function(t){e.refreshItems(t)}}),t.preventDefault()},e.prototype.refreshItems=function(t){var e=this,i=null,n=$($.parseHTML(t.trim()));i=n.hasClass("news-list")?n:n.find(".news-list"),TweenLite.to(this.$newsList,.6,{opacity:0}),null!==i&&setTimeout(function(){e.$newsList[0].innerHTML=i[0].innerHTML},700),TweenLite.to(this.$newsList,.6,{opacity:1,delay:.8});var o=n.find(".more-btn-cont");if(o.length){var s=n.find(".more-news-btn");this.$moreBtn.length?(this.$moreBtn[0].href=s[0].href,this.$moreBtn[0].style.display="block",TweenLite.to(this.$moreBtn,1,{opacity:1})):this.$newsRow.append(o)}else this.$moreBtn.length&&(this.$moreBtn[0].style.display="none");this.refreshSelectorsAndEvents()},e.prototype.refreshSelectorsAndEvents=function(){this.$moreBtn.off("click",this.moreBtnClick.bind(this)),this.$moreBtn=this.$cont.find(".more-news-btn"),this.$moreBtn.on("click",this.moreBtnClick.bind(this))},e.prototype.moreBtnClick=function(t){var e=this;$.ajax({url:t.currentTarget.href,type:"get",success:function(t){e.appendItems(t)}}),t.preventDefault()},e.prototype.appendItems=function(t){var e=this;this.$newsMoreTemp.append(t);var i=this.$newsMoreTemp.find(".news-list"),n=(this.$newsMoreTemp.find(".news-cont"),this.$newsMoreTemp.find(".more-news-btn"));this.$newsList.append(i[0].innerHTML),n.length?this.$moreBtn[0].href=n[0].href:TweenLite.to(this.$moreBtn,.6,{opacity:0,onComplete:function(){e.$moreBtn[0].style.display="none"}}),this.$newsMoreTemp[0].innerHTML=""},e.prototype.onFocusIn=function(t){var e=$(t.currentTarget).parent();e[0].className.indexOf("active")<0&&s.Utils.addClass(e[0],"active")},e.prototype.onFocusOut=function(t){var e=$(t.currentTarget).parent();""===t.currentTarget.value&&e[0].className.indexOf("active")>=0&&s.Utils.removeClass(e[0],"active")},e.prototype.hideBlocksExceptLinkParent=function(){var t=this.getFirstBlockByType("newswrapperblock"),e=this.getFirstBlockIndexByType("newswrapperblock");if(null!==t&&null!==e){var i=[];i.push(t.$container);for(var n=0;e>n;n++)i.push(this.blocks[n].$cont);TweenLite.to(i,.5,{opacity:0})}},e.prototype.show=function(e){return r.BootstrapMedia.isMinSM()&&"static"!=this.context?void("news_to_newscontainer"==this.router.state.transition?(this.hideBlocks(),setTimeout(function(){e()},600)):t.prototype.show.call(this,e)):void t.prototype.show.call(this,e)},e.prototype.hideBlocks=function(){if(this.newsBlock=this.getFirstBlockByType("newswrapperblock"),this.newsBlockIndex=this.getFirstBlockIndexByType("newswrapperblock"),this.blocksCont=[],null!==this.newsBlock&&null!==this.newsBlockIndex){this.blocksCont.push(this.newsBlock.$container);for(var t=0;t<this.newsBlockIndex;t++)this.blocksCont.push(this.blocks[t].$cont);TweenLite.set(this.blocksCont,{opacity:0})}},e.prototype.showEnded=function(){var e=this;if(t.prototype.showEnded.call(this),null!=this.newsBlock&&0!==this.blocksCont.length){s.Utils.addClass(this.router.$body[0],"hide-overlay");var i=this.newsBlock.$cont.offset().top+s.Utils.getViewportSize().height;TweenLite.to(this.$cont,.6,{opacity:1,delay:0}),TweenLite.fromTo(this.blocksCont,1,{opacity:0},{opacity:1,delay:.8,onComplete:function(){s.Utils.removeClass(e.router.$body[0],"hide-overlay")}}),TweenLite.to(window,.1,{scrollTo:{y:i,autoKill:!1},delay:.6})}},e.prototype.hide=function(e){return r.BootstrapMedia.isMinSM()?void("newscontainer_to_news"==this.router.state.transition?setTimeout(function(){e()},1e3):t.prototype.hide.call(this,e)):void t.prototype.hide.call(this,e)},e}(e.DefaultPage)}),define("pages/news",["exports","pages/two-cols-page"],function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.News=void 0,t.News=function(t){function e(){return i(this,e),n(this,t.apply(this,arguments))}return o(e,t),e}(e.TwoColsPage)}),define("pages/person",["exports","pages/two-cols-page"],function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Person=void 0,t.Person=function(t){function e(){return i(this,e),n(this,t.apply(this,arguments))}return o(e,t),e}(e.TwoColsPage)}),define("pages/contact",["exports","pages/default-page","loglevel","utils/utils"],function(t,e,i,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Contact=void 0,o(i),t.Contact=function(t){function e(){return s(this,e),r(this,t.apply(this,arguments))}return a(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.$form=this.$cont.find("#contactForm").eq(0),this.onSubmitBind=this.onSubmit.bind(this),this.$inputForm=this.$form.find(".form-control")},e.prototype.initEvents=function(){t.prototype.initEvents.call(this),this.$form.length&&this.$form.on("submit",this.onSubmitBind),this.$inputForm.length&&(this.$inputForm.on("focusin",this.onFocusIn.bind(this)),this.$inputForm.on("focusout",this.onFocusOut.bind(this)))},e.prototype.destroyEvents=function(){t.prototype.destroyEvents.call(this),this.$form.length&&this.$form.off("submit",this.onSubmitBind),this.$inputForm.length&&(this.$inputForm.off("focusin",this.onFocusIn.bind(this)),this.$inputForm.off("focusout",this.onFocusOut.bind(this)))},e.prototype.onSubmit=function(t){var e=this;t.preventDefault();var i=new FormData(this.$form.get(0));$.ajax({url:this.$form.attr("action"),type:"POST",data:i,contentType:!1,processData:!1,success:function(t){if("success"==t.status)e.$form.slideUp(),e.$form.after('<div class="alert alert-success">'+t.message+"</div>");else for(var i in t.errorsPerForm){var n=t.errorsPerForm[i],o=e.$form.find('[name="form['+i+']"]').eq(0).parent();o.addClass("has-error");for(var s in n)o.append('<span class="text-danger help-block">'+n[s]+"</span>")}}})},e.prototype.onFocusIn=function(t){var e=$(t.currentTarget).parent();e[0].className.indexOf("active")<0&&n.Utils.addClass(e[0],"active")},e.prototype.onFocusOut=function(t){var e=$(t.currentTarget).parent();""===t.currentTarget.value&&e[0].className.indexOf("active")>=0&&n.Utils.removeClass(e[0],"active")},e}(e.DefaultPage)}),define("common/scroll-btn",["exports","jquery","utils/utils","utils/bootstrapMedia","scrollTo","loglevel","abstract-block"],function(t,e,i,n,o,s,r){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollBtn=void 0,a(e),a(o),a(s),t.ScrollBtn=function(t){function e(){return c(this,e),l(this,t.apply(this,arguments))}return h(e,t),e.prototype.init=function(){t.prototype.init.call(this)},e.prototype.initEvents=function(){t.prototype.initEvents.call(this),this.$cont.on("click",this.contOnClick.bind(this))},e.prototype.destroyEvents=function(){t.prototype.destroyEvents.call(this),this.$cont.off("click",this.contOnClick.bind(this))},e.prototype.contOnClick=function(t){var e=i.Utils.getViewportSize().height;n.BootstrapMedia.isMinSM()||(e-=80),TweenLite.to(this.page.router.$window,1,{scrollTo:{y:e,autoKill:!1}}),t.preventDefault()},e}(r.AbstractBlock)}),define("common/contextual-nav",["exports","jquery","loglevel","abstract-block"],function(t,e,i,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ContextualNav=void 0,o(e),o(i),t.ContextualNav=function(t){function e(){return s(this,e),r(this,t.apply(this,arguments))}return a(e,t),e.prototype.init=function(){if(t.prototype.init.call(this),this.$bgImage=this.$cont.find(".contextual-nav-background"),this.$leftCol=this.$cont.find(".contextual-nav-left-col"),this.$rightCol=this.$cont.find(".contextual-nav-right-col"),this.$bgImage.length){var e=this.$bgImage[0].getAttribute("data-src");""!==e&&(this.$bgImage[0].style.backgroundImage="url("+e+")")}this.onResize()},e.prototype.onResize=function(t){this.$leftCol.length&&this.$rightCol.length&&(this.$leftCol[0].removeAttribute("style"),this.$rightCol[0].removeAttribute("style"),this.$leftCol.innerHeight()<=this.$rightCol.innerHeight()?this.$leftCol[0].style.height=this.$rightCol.innerHeight()+"px":this.$rightCol[0].style.height=this.$leftCol.innerHeight()+"px")},e}(n.AbstractBlock)}),define("common/back-to-parent-col",["exports","jquery","loglevel","utils/utils","utils/bootstrapMedia","abstract-block"],function(t,e,i,n,o,s){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.BackToParentCol=void 0,r(e),r(i),t.BackToParentCol=function(t){function e(){return a(this,e),c(this,t.apply(this,arguments))}return l(e,t),e.prototype.init=function(){if(t.prototype.init.call(this),this.$link=this.$cont.find(".back-to-parent-link"),"project"==this.page.type&&"ajax"==this.page.context&&"projectcontainer"==this.page.router.state.options.previousType&&""!==this.page.router.state.options.previousHref&&this.$link.length&&(this.$link[0].href=this.page.router.state.options.previousHref),this.$bgImage=this.$cont.find(".back-to-parent-bg"),this.$bgImage.length&&o.BootstrapMedia.isMinSM()){var e=this.$bgImage[0].getAttribute("data-src");""!==e&&(this.$bgImage[0].style.backgroundImage="url("+e+")")}this.onResize()},e.prototype.onResize=function(t){if(this.$bgImage.length&&o.BootstrapMedia.isMinSM()){var e=n.Utils.getViewportSize();"project"!==this.page.type?(this.$bgImage[0].style.width=e.width+"px",this.$bgImage[0].style.height=e.height+"px"):(this.$bgImage[0].style.width=parseInt(1.1*e.width)+"px",this.$bgImage[0].style.height=parseInt(1.1*e.height)+"px",this.$bgImage[0].style.top=parseInt(.05*-e.height)+"px",this.$bgImage[0].style.right=parseInt(.05*-e.width)+"px",this.$bgImage[0].style.bottom=parseInt(.05*-e.height)+"px",this.$bgImage[0].style.left=parseInt(.05*-e.width)+"px")}},e}(s.AbstractBlock)}),define("blocks/project-carousel",["exports","jquery","TweenMax","loglevel","utils/utils","utils/bootstrapMedia","abstract-block"],function(t,e,i,n,o,s,r){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectCarousel=void 0;var u=a(e);a(i),a(n),t.ProjectCarousel=function(t){function e(){return c(this,e),l(this,t.apply(this,arguments))}return h(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.initCarousel(),this.isOpened=!1,this.isHovered=!1,this.isMouseDown=!1,this.switchActive=!1,this.tryClose=!1,this.openedOnce=!1,this.isMobile=document.body.className.indexOf("is-mobile")>=0,this.bindedOnMouseUp=this.mouseUp.bind(this),this.windowOnKeyUpBinded=this.windowOnKeyUp.bind(this),this.windowOnMouseMoveBinded=this.windowOnMouseMove.bind(this),this.onResize()},e.prototype.initCarousel=function(){this.contSize=o.Utils.getViewportSize(),this.$carouselCont=this.$cont.find(".project-carousel-cont"),this.$carouselWrapper=this.$cont.find(".carousel-wrapper"),this.$carouselItem=this.$carouselWrapper.find(".carousel-figure-wrapper"),this.$carouselFigure=this.$carouselItem.find(".carousel-figure"),this.$carouselImg=this.$carouselItem.find("img"),this.itemLength=this.$carouselItem.length,this.$arrow=this.$cont.find(".carousel-arrow"),this.$carouselOpenBtn=this.page.$cont.find(".project-carousel.active"),this.$carouselCloseBtn=this.$cont.find(".carousel-close-btn"),this.$carouselCircle=this.$carouselOpenBtn.find(".project-carousel-circle"),this.$cursorBlock=this.$cont.find(".carousel-cursor-block"),this.$carouselList=this.$cont.find(".carousel-list"),this.$carouselListItem=this.$cont.find(".carousel-list-item"),this.$activeCarouselImg=this.$carouselWrapper.find(".carousel-figure-wrapper.active"),this.itemActiveIndex=0,this.itemPrevIndex=0,this.itemNextIndex=0,this.setPrevNextIndexes(),this.img=[]},e.prototype.imagesLoadCheck=function(t){this.$carouselImg[t].src=this.img[t].src,this.resizeImage(t),TweenLite.to(this.$carouselImg[t],1.2,{opacity:1,delay:.1})},e.prototype.initEvents=function(){t.prototype.initEvents.call(this),this.$carouselOpenBtn.on("click",this.openCarousel.bind(this)),"desktop"==this.page.router.deviceType&&(this.$carouselOpenBtn.on("mouseenter",this.openBtnOnEnter.bind(this)),this.$carouselOpenBtn.on("mouseleave",this.openBtnOnLeave.bind(this)))},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.openedOnce&&this.$carouselCont.remove()},e.prototype.destroyEvents=function(){t.prototype.destroyEvents.call(this),this.$carouselOpenBtn.off("click",this.openCarousel.bind(this)),"desktop"==this.page.router.deviceType&&(this.$carouselOpenBtn.off("mouseenter",this.openBtnOnEnter.bind(this)),this.$carouselOpenBtn.off("mouseleave",this.openBtnOnLeave.bind(this)))},e.prototype.windowOnKeyUp=function(t){37==t.keyCode?this.switchItem("left","keyboard"):39==t.keyCode?this.switchItem("right","keyboard"):27==t.keyCode&&this.closeCarousel(t)},e.prototype.openBtnOnEnter=function(t){var e=(0,u["default"])(t.currentTarget),i=e.find(".project-carousel-circle"),n=t.pageY-e.offset().top,o=t.pageX-e.offset().left,s=[n,0,0,o];s[1]=e.actual("outerWidth")-s[3],s[2]=e.actual("outerHeight")-s[0],i[0].style.top=s[0]+"px",i[0].style.left=s[3]+"px",s.sort(function(t,e){return t-e});var r=2*Math.round(Math.sqrt(Math.pow(s[2],2)+Math.pow(s[3],2)));i[0].style.width=r+"px",i[0].style.height=r+"px",i[0].style.top=Math.round(n-r/2)+"px",i[0].style.left=Math.round(o-r/2)+"px",TweenLite.fromTo(i,.6,{scale:0},{scale:1,force3D:!1,ease:Cubic.easeInOut})},e.prototype.openBtnOnLeave=function(t){var e=(0,u["default"])(t.currentTarget),i=e.find(".project-carousel-circle"),n=t.pageY-e.offset().top,o=t.pageX-e.offset().left,s=[n,0,0,o];
s[1]=e.actual("outerWidth")-s[3],s[2]=e.actual("outerHeight")-s[0],i[0].style.top=s[0]+"px",i[0].style.left=s[3]+"px",s.sort(function(t,e){return t-e});var r=2*Math.round(Math.sqrt(Math.pow(s[2],2)+Math.pow(s[3],2)));i[0].style.width=r+"px",i[0].style.height=r+"px",i[0].style.top=Math.round(n-r/2)+"px",i[0].style.left=Math.round(o-r/2)+"px",TweenLite.to(i,.6,{scale:0,force3D:!1,ease:Cubic.easeInOut})},e.prototype.moveCarousel=function(){document.body.appendChild(this.$carouselCont[0])},e.prototype.openCarousel=function(t){var e=this;t.preventDefault(),this.isOpened||(this.openedOnce||(this.moveCarousel(),this.loadImages(),this.openedOnce=!0),o.Utils.addClass(this.$carouselCont[0],"opened"),o.Utils.addClass(this.$carouselCont[0],"transitioning"),TweenLite.to(this.$carouselCont[0],1,{opacity:1}),TweenLite.set(this.$carouselItem[this.itemActiveIndex],{x:this.contSize.width}),TweenLite.set(this.$carouselFigure[this.itemActiveIndex],{x:-this.contSize.width}),TweenLite.fromTo(this.$carouselItem[this.itemActiveIndex],.8,{x:this.contSize.width},{x:0,delay:.4}),TweenLite.fromTo(this.$carouselFigure[this.itemActiveIndex],.8,{x:-this.contSize.width},{x:0,delay:.4}),setTimeout(function(){e.updateCloseBtnSize(1),o.Utils.removeClass(e.$carouselCont[0],"transitioning")},1200),this.isOpened=!0,this.initCarouselEvents())},e.prototype.loadImages=function(){for(var t=0;t<this.itemLength;t++)this.img[t]=new Image,this.img[t].src=this.$carouselImg[t].getAttribute("data-src"),this.img[t].onload=this.imagesLoadCheck.bind(this,t)},e.prototype.initCarouselEvents=function(){"mobile"==this.page.router.deviceType&&this.$arrow.on("click",this.arrowClick.bind(this)),"desktop"==this.page.router.deviceType&&(this.$carouselCont.on("mousedown",this.mouseDown.bind(this)),this.page.router.$window.on("mouseup",this.bindedOnMouseUp),this.$carouselCloseBtn.on("mouseenter",this.shrinkBtn.bind(this)),this.$carouselCloseBtn.on("mouseleave",this.swellBtn.bind(this)),this.$carouselList.on("mouseenter",this.shrinkBtn.bind(this)),this.$carouselList.on("mouseleave",this.swellBtn.bind(this)),window.addEventListener("mousemove",this.windowOnMouseMoveBinded)),this.$carouselCloseBtn.on("click",this.closeCarousel.bind(this)),this.$carouselListItem.on("click",this.carouselListItemOnClick.bind(this)),window.addEventListener("keyup",this.windowOnKeyUpBinded)},e.prototype.destroyCarouselEvents=function(){"mobile"==this.page.router.deviceType&&this.$arrow.off("click",this.arrowClick.bind(this)),"desktop"==this.page.router.deviceType&&(this.$carouselCont.off("mousedown",this.mouseDown.bind(this)),this.page.router.$window.off("mouseup",this.bindedOnMouseUp),this.$carouselCloseBtn.off("mouseenter",this.shrinkBtn.bind(this)),this.$carouselCloseBtn.off("mouseleave",this.swellBtn.bind(this)),this.$carouselList.off("mouseenter",this.shrinkBtn.bind(this)),this.$carouselList.off("mouseleave",this.swellBtn.bind(this)),window.removeEventListener("mousemove",this.windowOnMouseMoveBinded)),this.$carouselCloseBtn.off("click",this.closeCarousel.bind(this)),this.$carouselListItem.off("click",this.carouselListItemOnClick.bind(this)),window.removeEventListener("keyup",this.windowOnKeyUpBinded)},e.prototype.closeCarousel=function(t){var e=this;return this.switchActive?void(this.tryClose=!0):("undefined"!=typeof t&&t.preventDefault(),this.destroyCarouselEvents(),void(this.isOpened&&(o.Utils.addClass(this.$carouselCont[0],"transitioning"),this.updateCloseBtnSize(0),TweenLite.to(this.$carouselItem[this.itemActiveIndex],.8,{x:this.contSize.width}),TweenLite.to(this.$carouselFigure[this.itemActiveIndex],.8,{x:-this.contSize.width}),TweenLite.to(this.$carouselCont[0],1,{opacity:0,delay:.2}),setTimeout(function(){o.Utils.removeClass(e.$carouselCont[0],"opened"),o.Utils.removeClass(e.$carouselCont[0],"transitioning"),e.$carouselItem[e.itemActiveIndex].removeAttribute("style"),e.$carouselFigure[e.itemActiveIndex].removeAttribute("style"),e.$carouselItem.removeClass("future"),0!==e.itemActiveIndex&&(e.$carouselItem.removeClass("active"),o.Utils.addClass(e.$carouselItem[0],"active"),o.Utils.removeClass(e.$carouselListItem[e.itemActiveIndex],"active"),e.itemActiveIndex=0,o.Utils.addClass(e.$carouselListItem[0],"active"),e.setPrevNextIndexes()),e.isOpened=!1},1200))))},e.prototype.mouseDown=function(t){"mobile"!=this.page.router.deviceType&&this.isOpened&&!this.switchActive&&(t.target.className.indexOf("carousel-list-item")>=0||t.target.className.indexOf("link-circle")>=0||(this.isMouseDown=!0,this.mouseDownX=t.pageX,this.updateCloseBtnSize(.6),this.$carouselCont.hasClass("grabbing")||o.Utils.addClass(this.$carouselCont[0],"grabbing")))},e.prototype.windowOnMouseMove=function(t){if("mobile"!=this.page.router.deviceType&&this.isOpened){var e=Math.floor(t.pageX-this.$cursorBlock.innerWidth()/2),i=Math.floor(t.pageY-this.$cursorBlock.innerHeight()/2-(0,u["default"])(window).scrollTop());if(TweenLite.to(this.$cursorBlock,.2,{x:e,y:i,delay:.05}),this.isMouseDown&&!this.switchActive){var n=t.pageX-this.mouseDownX;TweenLite.set(this.$carouselItem[this.itemActiveIndex],{x:n}),TweenLite.set(this.$carouselFigure[this.itemActiveIndex],{x:-n}),n>0&&-1==this.$carouselItem[this.itemPrevIndex].className.indexOf("future")&&(o.Utils.addClass(this.$carouselItem[this.itemPrevIndex],"future"),o.Utils.removeClass(this.$carouselItem[this.itemNextIndex],"future")),0>n&&-1==this.$carouselItem[this.itemNextIndex].className.indexOf("future")&&(o.Utils.addClass(this.$carouselItem[this.itemNextIndex],"future"),o.Utils.removeClass(this.$carouselItem[this.itemPrevIndex],"future"))}}},e.prototype.mouseUp=function(t){if("mobile"!=this.page.router.deviceType&&this.isOpened&&!this.switchActive&&!(t.target.className.indexOf("carousel-list-item")>=0||t.target.className.indexOf("link-circle")>=0)){t.preventDefault(),this.updateCloseBtnSize(1),this.$carouselCont.hasClass("grabbing")&&o.Utils.removeClass(this.$carouselCont[0],"grabbing"),this.isMouseDown=!1;var e=t.pageX-this.mouseDownX,i=Math.abs(e/this.contSize.width);if(i>.2){var n=e>0?"left":"right";this.switchItem(n,"drag")}else TweenLite.to(this.$carouselItem[this.itemActiveIndex],.4,{x:0}),TweenLite.to(this.$carouselFigure[this.itemActiveIndex],.4,{x:0})}},e.prototype.shrinkBtn=function(){this.updateCloseBtnSize(.2)},e.prototype.swellBtn=function(){this.updateCloseBtnSize(1)},e.prototype.updateCloseBtnSize=function(t){TweenLite.to(this.$cursorBlock[0],.5,{scale:t})},e.prototype.arrowClick=function(t){var e=t.currentTarget.className.indexOf("left")>=0?"left":"right";this.switchItem(e,"arrow"),t.preventDefault()},e.prototype.carouselListItemOnClick=function(t){if(!(t.currentTarget.className.indexOf("active")>=0)){var e=Number(t.currentTarget.getAttribute("data-index"));this.switchItem(null,"list-item",e),t.preventDefault()}},e.prototype.switchItem=function(t,e,i){var n=this;if(!this.switchActive){this.switchActive=!0;var s=void 0,r=this.itemActiveIndex,a=this.contSize.width,c=-a;null===t&&"undefined"!=typeof i&&(s=i,t=r>s?"left":"right"),"left"==t?("list-item"!==e&&(s=r>0?r-1:this.itemLength-1),o.Utils.addClass(this.$carouselItem[s],"future")):("list-item"!==e&&(s=r<this.itemLength-1?r+1:0),o.Utils.addClass(this.$carouselItem[s],"future"),a*=-1,c=-a),"drag"==e?(TweenLite.to(this.$carouselItem[r],.8,{x:a}),TweenLite.to(this.$carouselFigure[r],.8,{x:c})):(TweenLite.fromTo(this.$carouselItem[r],.8,{x:0},{x:a}),TweenLite.fromTo(this.$carouselFigure[r],.8,{x:0},{x:c})),o.Utils.removeClass(this.$carouselListItem[r],"active"),o.Utils.addClass(this.$carouselListItem[s],"active"),setTimeout(function(){n.itemActiveIndex=s,o.Utils.removeClass(n.$carouselItem[r],"active"),o.Utils.addClass(n.$carouselItem[s],"active"),n.$carouselItem[r].removeAttribute("style"),n.$carouselFigure[r].removeAttribute("style"),n.$carouselItem.removeClass("future"),n.setPrevNextIndexes()},850),setTimeout(function(){n.switchActive=!1,n.tryClose&&(n.closeCarousel(),n.tryClose=!1)},900)}},e.prototype.setPrevNextIndexes=function(){this.itemPrevIndex=this.itemActiveIndex>=1?this.itemActiveIndex-1:this.itemLength-1,this.itemNextIndex=this.itemActiveIndex<this.itemLength-1?this.itemActiveIndex+1:0},e.prototype.onResize=function(t){this.contSize=o.Utils.getViewportSize(),this.$carouselCont.length&&(this.$carouselCont[0].style.height=this.contSize.height+"px");for(var e=0;e<this.itemLength;e++)this.resizeImage(e)},e.prototype.resizeImage=function(t){var e=this.contSize.width/this.$carouselImg[t].naturalWidth,i=this.contSize.height/this.$carouselImg[t].naturalHeight,n=Math.max(e,i),o=parseInt(this.$carouselImg[t].naturalWidth*n),s=parseInt(this.$carouselImg[t].naturalHeight*n);this.$carouselImg.eq(t).css({width:o,height:s})},e}(r.AbstractBlock)}),define("blocks/link-circle-scale",["exports","jquery","TweenMax","loglevel","utils/debounce"],function(t,e,i,n,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.LinkCircleScale=void 0;var a=s(e);s(i),s(n),t.LinkCircleScale=function(){function t(e,i,n){r(this,t),this.$cont=i,0!==i.length&&(this.id=this.$cont[0].id,this.$window=(0,a["default"])(window),this.onResizeDebounce=(0,o.debounce)(this.onResize.bind(this),50,!1),this.init(),this.initEvents())}return t.prototype.init=function(){this.$circle=this.$cont.find(".link-circle"),this.$origin=this.$cont.find(".link-circle-origin"),this.hasOrigin=!(!this.$origin.length||"1"!=this.$cont[0].getAttribute("data-has-origin"))},t.prototype.destroy=function(){this.destroyEvents()},t.prototype.initEvents=function(){this.$cont.on("mouseenter",this.contOnEnter.bind(this)),this.$cont.on("mouseleave",this.contOnLeave.bind(this)),this.$window.on("resize",this.onResizeDebounce)},t.prototype.destroyEvents=function(){this.$cont.off("mouseenter",this.contOnEnter.bind(this)),this.$cont.off("mouseleave",this.contOnLeave.bind(this)),this.$window.off("resize",this.onResizeDebounce)},t.prototype.contOnEnter=function(t){if(!(t.currentTarget.className.indexOf("disabled")>=0)){var e=t.pageY-this.$cont.offset().top,i=t.pageX-this.$cont.offset().left;this.hasOrigin&&(e=this.$origin.offset().top-this.$cont.offset().top+this.$origin.actual("outerHeight")/2,i=this.$origin.offset().left-this.$cont.offset().left+this.$origin.actual("outerWidth")/2);var n=[e,this.$cont.actual("outerWidth")-i,this.$cont.actual("outerHeight")-e,i];this.$circle[0].style.top=e+"px",this.$circle[0].style.left=i+"px",n.sort(function(t,e){return t-e});var o=2*Math.round(Math.sqrt(Math.pow(n[2],2)+Math.pow(n[3],2))),s=this.hasOrigin?this.$origin.actual("outerWidth")/o:0;this.$circle[0].style.width=o+"px",this.$circle[0].style.height=o+"px",this.$circle[0].style.top=Math.round(e-o/2)+"px",this.$circle[0].style.left=Math.round(i-o/2)+"px",TweenLite.fromTo(this.$circle,.6,{scale:s},{scale:1,force3D:!1,ease:Cubic.easeInOut})}},t.prototype.contOnLeave=function(t){var e=t.pageY-this.$cont.offset().top,i=t.pageX-this.$cont.offset().left;this.hasOrigin&&(e=this.$origin.offset().top-this.$cont.offset().top+this.$origin.actual("outerHeight")/2,i=this.$origin.offset().left-this.$cont.offset().left+this.$origin.actual("outerWidth")/2);var n=[e,this.$cont.actual("outerWidth")-i,this.$cont.actual("outerHeight")-e,i];this.$circle[0].style.top=e+"px",this.$circle[0].style.left=i+"px",n.sort(function(t,e){return t-e});var o=2*Math.round(Math.sqrt(Math.pow(n[2],2)+Math.pow(n[3],2))),s=this.hasOrigin?this.$origin.actual("outerWidth")/o:0;this.$circle[0].style.width=o+"px",this.$circle[0].style.height=o+"px",this.$circle[0].style.top=Math.round(e-o/2)+"px",this.$circle[0].style.left=Math.round(i-o/2)+"px",TweenLite.to(this.$circle,.4,{scale:s,force3D:!1,ease:Cubic.easeInOut})},t.prototype.onResize=function(t){this.hasOrigin&&this.$circle[0].removeAttribute("style")},t}()}),!function(t,e,i,n){"use strict";function o(t,e,i){return setTimeout(l(t,i),e)}function s(t,e,i){return!!Array.isArray(t)&&(r(t,i[e],i),!0)}function r(t,e,i){var o;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==n)for(o=0;o<t.length;)e.call(i,t[o],o,t),o++;else for(o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function a(e,i,n){var o="DEPRECATED METHOD: "+i+"\n"+n+" AT \n";return function(){var i=new Error("get-stack-trace"),n=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=t.console&&(t.console.warn||t.console.log);return s&&s.call(t.console,o,n),e.apply(this,arguments)}}function c(t,e,i){var n,o=e.prototype;n=t.prototype=Object.create(o),n.constructor=t,n._super=o,i&&ut(n,i)}function l(t,e){return function(){return t.apply(e,arguments)}}function h(t,e){return typeof t==ft?t.apply(e?e[0]||n:n,e):t}function u(t,e){return t===n?e:t}function p(t,e,i){r(m(e),function(e){t.addEventListener(e,i,!1)})}function d(t,e,i){r(m(e),function(e){t.removeEventListener(e,i,!1)})}function f(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function y(t,e){return t.indexOf(e)>-1}function m(t){return t.trim().split(/\s+/g)}function g(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function v(t){return Array.prototype.slice.call(t,0)}function b(t,e,i){for(var n=[],o=[],s=0;s<t.length;){var r=e?t[s][e]:t[s];g(o,r)<0&&n.push(t[s]),o[s]=r,s++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function w(t,e){for(var i,o,s=e[0].toUpperCase()+e.slice(1),r=0;r<pt.length;){if(i=pt[r],o=i?i+s:e,o in t)return o;r++}return n}function $(){return wt++}function x(e){var i=e.ownerDocument||e;return i.defaultView||i.parentWindow||t}function T(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){h(t.options.enable,[t])&&i.handler(e)},this.init()}function k(t){var e,i=t.options.inputClass;return new(e=i?i:Tt?D:kt?U:xt?H:A)(t,C)}function C(t,e,i){var n=i.pointers.length,o=i.changedPointers.length,s=e&St&&n-o===0,r=e&(Pt|zt)&&n-o===0;i.isFirst=!!s,i.isFinal=!!r,s&&(t.session={}),i.eventType=e,L(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function L(t,e){var i=t.session,n=e.pointers,o=n.length;i.firstInput||(i.firstInput=O(e)),o>1&&!i.firstMultiple?i.firstMultiple=O(e):1===o&&(i.firstMultiple=!1);var s=i.firstInput,r=i.firstMultiple,a=r?r.center:s.center,c=e.center=S(n);e.timeStamp=gt(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=I(a,c),e.distance=z(a,c),M(i,e),e.offsetDirection=P(e.deltaX,e.deltaY);var l=B(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=mt(l.x)>mt(l.y)?l.x:l.y,e.scale=r?j(r.pointers,n):1,e.rotation=r?E(r.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,_(i,e);var h=t.element;f(e.srcEvent.target,h)&&(h=e.srcEvent.target),e.target=h}function M(t,e){var i=e.center,n=t.offsetDelta||{},o=t.prevDelta||{},s=t.prevInput||{};e.eventType!==St&&s.eventType!==Pt||(o=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=o.x+(i.x-n.x),e.deltaY=o.y+(i.y-n.y)}function _(t,e){var i,o,s,r,a=t.lastInterval||e,c=e.timeStamp-a.timeStamp;if(e.eventType!=zt&&(c>Ot||a.velocity===n)){var l=e.deltaX-a.deltaX,h=e.deltaY-a.deltaY,u=B(c,l,h);o=u.x,s=u.y,i=mt(u.x)>mt(u.y)?u.x:u.y,r=P(l,h),t.lastInterval=e}else i=a.velocity,o=a.velocityX,s=a.velocityY,r=a.direction;e.velocity=i,e.velocityX=o,e.velocityY=s,e.direction=r}function O(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:yt(t.pointers[i].clientX),clientY:yt(t.pointers[i].clientY)},i++;return{timeStamp:gt(),pointers:e,center:S(e),deltaX:t.deltaX,deltaY:t.deltaY}}function S(t){var e=t.length;if(1===e)return{x:yt(t[0].clientX),y:yt(t[0].clientY)};for(var i=0,n=0,o=0;e>o;)i+=t[o].clientX,n+=t[o].clientY,o++;return{x:yt(i/e),y:yt(n/e)}}function B(t,e,i){return{x:e/t||0,y:i/t||0}}function P(t,e){return t===e?It:mt(t)>=mt(e)?0>t?Et:jt:0>e?At:Dt}function z(t,e,i){i||(i=Nt);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return Math.sqrt(n*n+o*o)}function I(t,e,i){i||(i=Nt);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return 180*Math.atan2(o,n)/Math.PI}function E(t,e){return I(e[1],e[0],Ht)+I(t[1],t[0],Ht)}function j(t,e){return z(e[0],e[1],Ht)/z(t[0],t[1],Ht)}function A(){this.evEl=Xt,this.evWin=Wt,this.pressed=!1,T.apply(this,arguments)}function D(){this.evEl=Kt,this.evWin=Gt,T.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function R(){this.evTarget=Jt,this.evWin=Zt,this.started=!1,T.apply(this,arguments)}function F(t,e){var i=v(t.touches),n=v(t.changedTouches);return e&(Pt|zt)&&(i=b(i.concat(n),"identifier",!0)),[i,n]}function U(){this.evTarget=ee,this.targetIds={},T.apply(this,arguments)}function N(t,e){var i=v(t.touches),n=this.targetIds;if(e&(St|Bt)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var o,s,r=v(t.changedTouches),a=[],c=this.target;if(s=i.filter(function(t){return f(t.target,c)}),e===St)for(o=0;o<s.length;)n[s[o].identifier]=!0,o++;for(o=0;o<r.length;)n[r[o].identifier]&&a.push(r[o]),e&(Pt|zt)&&delete n[r[o].identifier],o++;return a.length?[b(s.concat(a),"identifier",!0),a]:void 0}function H(){T.apply(this,arguments);var t=l(this.handler,this);this.touch=new U(this.manager,t),this.mouse=new A(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function q(t,e){t&St?(this.primaryTouch=e.changedPointers[0].identifier,X.call(this,e)):t&(Pt|zt)&&X.call(this,e)}function X(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches,o=function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)};setTimeout(o,ie)}}function W(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var o=this.lastTouches[n],s=Math.abs(e-o.x),r=Math.abs(i-o.y);if(ne>=s&&ne>=r)return!0}return!1}function Y(t,e){this.manager=t,this.set(e)}function V(t){if(y(t,le))return le;var e=y(t,he),i=y(t,ue);return e&&i?le:e||i?e?he:ue:y(t,ce)?ce:ae}function K(){if(!se)return!1;var e={},i=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!i||t.CSS.supports("touch-action",n)}),e}function G(t){this.options=ut({},this.defaults,t||{}),this.id=$(),this.manager=null,this.options.enable=u(this.options.enable,!0),this.state=de,this.simultaneous={},this.requireFail=[]}function Q(t){return t&ve?"cancel":t&me?"end":t&ye?"move":t&fe?"start":""}function J(t){return t==Dt?"down":t==At?"up":t==Et?"left":t==jt?"right":""}function Z(t,e){var i=e.manager;return i?i.get(t):t}function tt(){G.apply(this,arguments)}function et(){tt.apply(this,arguments),this.pX=null,this.pY=null}function it(){tt.apply(this,arguments)}function nt(){G.apply(this,arguments),this._timer=null,this._input=null}function ot(){tt.apply(this,arguments)}function st(){tt.apply(this,arguments)}function rt(){G.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function at(t,e){return e=e||{},e.recognizers=u(e.recognizers,at.defaults.preset),new ct(t,e)}function ct(t,e){this.options=ut({},at.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=k(this),this.touchAction=new Y(this,this.options.touchAction),lt(this,!0),r(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function lt(t,e){var i=t.element;if(i.style){var n;r(t.options.cssProps,function(o,s){n=w(i.style,s),e?(t.oldCssProps[n]=i.style[n],i.style[n]=o):i.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function ht(t,i){var n=e.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=i,i.target.dispatchEvent(n)}var ut,pt=["","webkit","Moz","MS","ms","o"],dt=e.createElement("div"),ft="function",yt=Math.round,mt=Math.abs,gt=Date.now;ut="function"!=typeof Object.assign?function(t){if(t===n||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(o!==n&&null!==o)for(var s in o)o.hasOwnProperty(s)&&(e[s]=o[s])}return e}:Object.assign;var vt=a(function(t,e,i){for(var o=Object.keys(e),s=0;s<o.length;)(!i||i&&t[o[s]]===n)&&(t[o[s]]=e[o[s]]),s++;return t},"extend","Use `assign`."),bt=a(function(t,e){return vt(t,e,!0)},"merge","Use `assign`."),wt=1,$t=/mobile|tablet|ip(ad|hone|od)|android/i,xt="ontouchstart"in t,Tt=w(t,"PointerEvent")!==n,kt=xt&&$t.test(navigator.userAgent),Ct="touch",Lt="pen",Mt="mouse",_t="kinect",Ot=25,St=1,Bt=2,Pt=4,zt=8,It=1,Et=2,jt=4,At=8,Dt=16,Rt=Et|jt,Ft=At|Dt,Ut=Rt|Ft,Nt=["x","y"],Ht=["clientX","clientY"];T.prototype={handler:function(){},init:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(x(this.element),this.evWin,this.domHandler)}};var qt={mousedown:St,mousemove:Bt,mouseup:Pt},Xt="mousedown",Wt="mousemove mouseup";c(A,T,{handler:function(t){var e=qt[t.type];e&St&&0===t.button&&(this.pressed=!0),e&Bt&&1!==t.which&&(e=Pt),this.pressed&&(e&Pt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Mt,srcEvent:t}))}});var Yt={pointerdown:St,pointermove:Bt,pointerup:Pt,pointercancel:zt,pointerout:zt},Vt={2:Ct,3:Lt,4:Mt,5:_t},Kt="pointerdown",Gt="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Kt="MSPointerDown",Gt="MSPointerMove MSPointerUp MSPointerCancel"),c(D,T,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),o=Yt[n],s=Vt[t.pointerType]||t.pointerType,r=s==Ct,a=g(e,t.pointerId,"pointerId");o&St&&(0===t.button||r)?0>a&&(e.push(t),a=e.length-1):o&(Pt|zt)&&(i=!0),0>a||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(a,1))}});var Qt={touchstart:St,touchmove:Bt,touchend:Pt,touchcancel:zt},Jt="touchstart",Zt="touchstart touchmove touchend touchcancel";c(R,T,{handler:function(t){var e=Qt[t.type];if(e===St&&(this.started=!0),this.started){var i=F.call(this,t,e);e&(Pt|zt)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Ct,srcEvent:t})}}});var te={touchstart:St,touchmove:Bt,touchend:Pt,touchcancel:zt},ee="touchstart touchmove touchend touchcancel";c(U,T,{handler:function(t){var e=te[t.type],i=N.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Ct,srcEvent:t})}});var ie=2500,ne=25;c(H,T,{handler:function(t,e,i){var n=i.pointerType==Ct,o=i.pointerType==Mt;if(!(o&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)q.call(this,e,i);else if(o&&W.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var oe=w(dt.style,"touchAction"),se=oe!==n,re="compute",ae="auto",ce="manipulation",le="none",he="pan-x",ue="pan-y",pe=K();Y.prototype={set:function(t){t==re&&(t=this.compute()),se&&this.manager.element.style&&pe[t]&&(this.manager.element.style[oe]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return r(this.manager.recognizers,function(e){h(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),V(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var n=this.actions,o=y(n,le)&&!pe[le],s=y(n,ue)&&!pe[ue],r=y(n,he)&&!pe[he];if(o){var a=1===t.pointers.length,c=t.distance<2,l=t.deltaTime<250;if(a&&c&&l)return}return r&&s?void 0:o||s&&i&Rt||r&&i&Ft?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var de=1,fe=2,ye=4,me=8,ge=me,ve=16,be=32;G.prototype={defaults:{},set:function(t){return ut(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(s(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=Z(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return s(t,"dropRecognizeWith",this)?this:(t=Z(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(s(t,"requireFailure",this))return this;var e=this.requireFail;return t=Z(t,this),-1===g(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(s(t,"dropRequireFailure",this))return this;t=Z(t,this);var e=g(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(e,t)}var i=this,n=this.state;me>n&&e(i.options.event+Q(n)),e(i.options.event),t.additionalEvent&&e(t.additionalEvent),n>=me&&e(i.options.event+Q(n))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=be)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(be|de)))return!1;t++}return!0},recognize:function(t){var e=ut({},t);return h(this.options.enable,[this,e])?(this.state&(ge|ve|be)&&(this.state=de),this.state=this.process(e),void(this.state&(fe|ye|me|ve)&&this.tryEmit(e))):(this.reset(),void(this.state=be))},process:function(t){},getTouchAction:function(){},reset:function(){}},c(tt,G,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(fe|ye),o=this.attrTest(t);return n&&(i&zt||!o)?e|ve:n||o?i&Pt?e|me:e&fe?e|ye:fe:be}}),c(et,tt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ut},getTouchAction:function(){var t=this.options.direction,e=[];return t&Rt&&e.push(ue),t&Ft&&e.push(he),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,o=t.direction,s=t.deltaX,r=t.deltaY;return o&e.direction||(e.direction&Rt?(o=0===s?It:0>s?Et:jt,i=s!=this.pX,n=Math.abs(t.deltaX)):(o=0===r?It:0>r?At:Dt,i=r!=this.pY,n=Math.abs(t.deltaY))),t.direction=o,i&&n>e.threshold&&o&e.direction},attrTest:function(t){return tt.prototype.attrTest.call(this,t)&&(this.state&fe||!(this.state&fe)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=J(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),c(it,tt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[le]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&fe)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),c(nt,G,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ae]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(Pt|zt)&&!s)this.reset();else if(t.eventType&St)this.reset(),this._timer=o(function(){this.state=ge,this.tryEmit()},e.time,this);else if(t.eventType&Pt)return ge;return be},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===ge&&(t&&t.eventType&Pt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=gt(),this.manager.emit(this.options.event,this._input)))}}),c(ot,tt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[le]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&fe)}}),c(st,tt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Rt|Ft,pointers:1},getTouchAction:function(){return et.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Rt|Ft)?e=t.overallVelocity:i&Rt?e=t.overallVelocityX:i&Ft&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&mt(e)>this.options.velocity&&t.eventType&Pt},emit:function(t){var e=J(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),c(rt,G,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ce]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),t.eventType&St&&0===this.count)return this.failTimeout();if(n&&s&&i){if(t.eventType!=Pt)return this.failTimeout();var r=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||z(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&r?this.count+=1:this.count=1,this._input=t;var c=this.count%e.taps;if(0===c)return this.hasRequireFailures()?(this._timer=o(function(){this.state=ge,this.tryEmit()},e.interval,this),fe):ge}return be},failTimeout:function(){return this._timer=o(function(){this.state=be},this.options.interval,this),be},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ge&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),at.VERSION="2.0.7",at.defaults={domEvents:!1,touchAction:re,enable:!0,inputTarget:null,inputClass:null,preset:[[ot,{enable:!1}],[it,{enable:!1},["rotate"]],[st,{direction:Rt}],[et,{direction:Rt},["swipe"]],[rt],[rt,{event:"doubletap",taps:2},["tap"]],[nt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var we=1,$e=2;ct.prototype={set:function(t){return ut(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?$e:we},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&ge)&&(o=e.curRecognizer=null);for(var s=0;s<n.length;)i=n[s],e.stopped===$e||o&&i!=o&&!i.canRecognizeWith(o)?i.reset():i.recognize(t),!o&&i.state&(fe|ye|me)&&(o=e.curRecognizer=i),s++}},get:function(t){if(t instanceof G)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(s(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(s(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=g(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==n&&e!==n){var i=this.handlers;return r(m(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==n){var i=this.handlers;return r(m(t),function(t){e?i[t]&&i[t].splice(g(i[t],e),1):delete i[t]}),this}},emit:function(t,e){this.options.domEvents&&ht(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&lt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ut(at,{INPUT_START:St,INPUT_MOVE:Bt,INPUT_END:Pt,INPUT_CANCEL:zt,STATE_POSSIBLE:de,STATE_BEGAN:fe,STATE_CHANGED:ye,STATE_ENDED:me,STATE_RECOGNIZED:ge,STATE_CANCELLED:ve,STATE_FAILED:be,DIRECTION_NONE:It,DIRECTION_LEFT:Et,DIRECTION_RIGHT:jt,DIRECTION_UP:At,DIRECTION_DOWN:Dt,DIRECTION_HORIZONTAL:Rt,DIRECTION_VERTICAL:Ft,DIRECTION_ALL:Ut,Manager:ct,Input:T,TouchAction:Y,TouchInput:U,MouseInput:A,PointerEventInput:D,TouchMouseInput:H,
SingleTouchInput:R,Recognizer:G,AttrRecognizer:tt,Tap:rt,Pan:et,Swipe:st,Pinch:it,Rotate:ot,Press:nt,on:p,off:d,each:r,merge:bt,extend:vt,assign:ut,inherit:c,bindFn:l,prefixed:w});var xe="undefined"!=typeof t?t:"undefined"!=typeof self?self:{};xe.Hammer=at,"function"==typeof define&&define.amd?define("Hammer",[],function(){return at}):"undefined"!=typeof module&&module.exports?module.exports=at:t[i]=at}(window,document,"Hammer"),define("canvas/home-carousel-canvas",["exports","jquery","TweenMax","utils/utils","canvas/path","canvas/abstract-header-canvas"],function(t,e,i,n,o,s){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.HomeCarouselCanvas=void 0,r(e),r(i),t.HomeCarouselCanvas=function(t){function e(){return a(this,e),c(this,t.apply(this,arguments))}return l(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.lineCanvas=this.createLayer(),this.lineCanvasCtx=this.lineCanvas.getContext("2d"),this.dotsCanvas=this.createLayer(),this.dotsCanvasCtx=this.dotsCanvas.getContext("2d"),this.switchPercent={val:0},this.dots={},this.dotsOpacity={val:0},this.dotsActive=!0,this.path=new o.Path(this,this.parent),this.pathOpacity={val:0},this.pathAnimated=!1,this.dots.target=[],this.dots.target.push({x:this.path.pointsBezier[0].dest.x-10,y:this.path.pointsBezier[0].dest.y-10,indexBezier:0}),this.dots.target.push({x:this.path.pointsBezier[1].dest.x,y:this.path.pointsBezier[1].dest.y,indexBezier:1}),this.dots.target.push({x:this.path.pointsBezier[3].dest.x,y:this.path.pointsBezier[3].dest.y,indexBezier:3}),this.dots.target.push({x:this.path.pointsBezier[5].dest.x,y:this.path.pointsBezier[5].dest.y,indexBezier:5}),this.dots.target.push({x:this.path.pointsBezier[7].dest.x,y:this.path.pointsBezier[7].dest.y,indexBezier:7}),this.dots.target.push({x:this.path.pointsBezier[9].dest.x,y:this.path.pointsBezier[9].dest.y,indexBezier:9}),this.dots.target.push({x:this.path.pointsBezier[10].dest.x+10,y:this.path.pointsBezier[10].dest.y+10,indexBezier:10}),this.dots.points=[];for(var e=0;e<this.parent.itemLength;e++){var i=3>e?e+3:this.dots.target.length-1;this.dots.points[e]={x:this.dots.target[i].x,y:this.dots.target[i].y,indexBezier:this.dots.target[i].indexBezier}}},e.prototype.initDraw=function(){var e=this;t.prototype.initDraw.call(this),TweenLite.to(this.pathOpacity,1,{val:1,delay:0}),TweenLite.to(this.dotsOpacity,.6,{val:1,delay:1.6});for(var i=0;i<this.path.pointsBezier.length;i++)TweenLite.to(this.path.pointsBezier[i].current,1,{cp1x:this.path.pointsBezier[i].dest.cp1x,cp1y:this.path.pointsBezier[i].dest.cp1y,cp2x:this.path.pointsBezier[i].dest.cp2x,cp2y:this.path.pointsBezier[i].dest.cp2y,y:this.path.pointsBezier[i].dest.y,delay:1});setTimeout(function(){e.pathAnimated=!0},2e3)},e.prototype.draw=function(){t.prototype.draw.call(this),this.clearLayer(this.lineCanvasCtx),this.drawLine(this.lineCanvasCtx),this.drawMiniCircle(this.lineCanvasCtx),this.clearLayer(this.dotsCanvasCtx),this.drawDots(this.dotsCanvasCtx),this.ctx.drawImage(this.lineCanvas,0,0),this.ctx.drawImage(this.dotsCanvas,0,0)},e.prototype.drawLine=function(t){t.save(),t.beginPath(),t.moveTo(this.path.pointsBezier[0].x,this.path.pointsBezier[0].y);for(var e=1;e<this.path.pointsBezier.length;e++)t.bezierCurveTo(this.path.pointsBezier[e].current.cp1x,this.path.pointsBezier[e].current.cp1y,this.path.pointsBezier[e].current.cp2x,this.path.pointsBezier[e].current.cp2y,this.path.pointsBezier[e].current.x,this.path.pointsBezier[e].current.y);t.globalAlpha=this.pathOpacity.val,t.fillStyle="transparent",t.strokeStyle="rgba(255,255,255,0.2)",t.stroke(),t.restore()},e.prototype.drawMiniCircle=function(t){t.save(),t.beginPath(),t.fillStyle="#000000",this.centerCircle(t,this.circle.mini.current),t.globalCompositeOperation="destination-out",t.fill(),t.restore()},e.prototype.drawDots=function(t){if(this.dotsActive){for(var e=0;e<this.dots.points.length;e++){if(this.switchActive){var i=e+3-this.parent.itemFutureIndex;0>i&&(i=0),i>this.dots.target.length-1&&(i=this.dots.target.length-1);var n=this.dots.points[e].indexBezier,o=this.dots.target[i].indexBezier,s=Math.abs(o-n),r=this.switchPercent.val,a=1==this.parent.switchDir?o:n,c=void 0,l=void 0;this.dots.points[e].indexBezierTarget=o,s>1&&(l=Math.floor(this.switchPercent.val/(1/s)),r=1==this.switchPercent.val?1:this.switchPercent.val/(1/s)-l,a=1==this.parent.switchDir?n+(l+1):o+l+1),a>=this.path.pointsBezier.length&&(a=this.path.pointsBezier.length-1),c=0==a?0:a-1;var h=this.path.getCubicBezierXYatPercent({x:this.path.pointsBezier[c].dest.x,y:this.path.pointsBezier[c].dest.y},{x:this.path.pointsBezier[a].dest.cp1x,y:this.path.pointsBezier[a].dest.cp1y},{x:this.path.pointsBezier[a].dest.cp2x,y:this.path.pointsBezier[a].dest.cp2y},{x:this.path.pointsBezier[a].dest.x,y:this.path.pointsBezier[a].dest.y},r);n!==o&&(this.dots.points[e].x=h.x,this.dots.points[e].y=h.y)}t.save(),t.beginPath(),t.arc(this.dots.points[e].x,this.dots.points[e].y,this.circle.small,0,2*Math.PI,!1),t.globalAlpha=this.dotsOpacity.val,t.fillStyle="#ffffff",t.fill(),t.restore()}this.switchActive&&(this.switchFirst=!1)}},e.prototype.endSwitch=function(){this.switchActive=!1;for(var t=0;t<this.dots.points.length;t++)this.dots.points[t].indexBezier=this.dots.points[t].indexBezierTarget},e.prototype.onResize=function(e){null!==this.path&&this.path.onResize(),t.prototype.onResize.call(this),this.setLayerSize(this.lineCanvas),this.setLayerSize(this.dotsCanvas);for(var i=0;i<this.dots.points.length;i++){var n=this.dots.points[i].indexBezier;this.dots.points[i].x=this.path.pointsBezier[n].dest.x,this.dots.points[i].y=this.path.pointsBezier[n].dest.y}for(var o=0;o<this.dots.target.length;o++){var s=this.dots.target[o].indexBezier;this.dots.target[o].x=this.path.pointsBezier[s].dest.x,this.dots.target[o].y=this.path.pointsBezier[s].dest.y}},e}(s.AbstractHeaderCanvas)}),define("blocks/home-carousel-block",["exports","jquery","TweenMax","loglevel","Hammer","utils/utils","common/abstract-header","canvas/home-carousel-canvas"],function(t,e,i,n,o,s,r,a){"use strict";function c(t){return t&&t.__esModule?t:{"default":t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.HomeCarouselBlock=void 0;var p=c(e),d=(c(i),c(n),c(o));t.HomeCarouselBlock=function(t){function e(){return l(this,e),h(this,t.apply(this,arguments))}return u(e,t),e.prototype.init=function(){var e=this;if(t.prototype.init.call(this),this.$inner=this.$cont.find(".homecarouselblock-inner"),this.$logo=this.$cont.find(".homecarouselblock-logo"),this.$logo.length&&(this.$logo[0].style.opacity=0),this.$dot=this.$cont.find(".homecarouselblock-item-dot"),this.$item=this.$cont.find(".homecarouselblock-item"),"mobile"==this.page.router.deviceType){this.$item.removeClass("active"),this.$item=this.$cont.find(".homecarouselblock-item.is-image"),s.Utils.addClass(this.$item[0],"active");for(var i=this.$cont.find(".homecarouselblock-item.is-video"),n=0;n<i.length;n++)this.$dot.eq(n).remove();i.remove(),this.$dot.removeClass("active"),this.$dot=this.$cont.find(".homecarouselblock-item-dot"),s.Utils.addClass(this.$dot[0],"active")}this.itemLength=this.$item.length,this.itemFutureIndex=0,this.contMoveReady=!1,this.contHasMoved=!1,this.switchActive=!0,this.hammer=new d["default"](this.$cont[0]),this.isMouseDown=!1,setTimeout(function(){e.defineDotsPositions()},0),this.$text=this.$cont.find(".homecarouselblock-item-text"),this.$text.length&&(this.$text[0].style.opacity=0),this.$type=this.$cont.find(".homecarouselblock-item-type"),this.$title=this.$cont.find(".homecarouselblock-item-title"),this.$btn=this.$cont.find(".homecarouselblock-item-btn"),this.$cursor=this.$cont.find(".home-carousel-cursor-block"),this.$cursor.length&&(this.$cursor[0].style.opacity=0),this.$cursorDisabler=this.$cont.find(".cursor-disabler"),this.pageX=0,this.pageY=0,this.$canvas=this.$cont.find(".homecarouselblock-canvas"),this.canvas=this.$canvas.length?new a.HomeCarouselCanvas(this.$canvas[0],this):null,this.hasSwitched=!1,this.bounceDotsInterval=null,this.transformProp=s.Utils.prefixProperty("transform"),this.onScrollBinded=this.onScroll.bind(this),this.windowOnKeyUpBinded=this.windowOnKeyUp.bind(this)},e.prototype.initEvents=function(){t.prototype.initEvents.call(this),"desktop"==this.page.router.deviceType?(this.$cont.on("mousedown",this.mouseDown.bind(this)),this.$cont.on("mousemove",this.contOnMove.bind(this)),this.$cont.on("mouseup",this.mouseUp.bind(this)),this.$cont.on("mouseenter",this.contOnEnter.bind(this)),this.$cont.on("mouseleave",this.contOnLeave.bind(this)),this.$cursorDisabler.on("mouseenter",this.cursorDisablerOnEnter.bind(this)),this.$cursorDisabler.on("mouseleave",this.cursorDisablerOnLeave.bind(this))):(this.hammer.on("swipeleft",this.contOnSwipeLeft.bind(this)),this.hammer.on("swiperight",this.contOnSwipeRight.bind(this))),this.page.router.$window.on("scroll",this.onScrollBinded),this.$dot.on("click",this.dotsOnClick.bind(this)),window.addEventListener("keyup",this.windowOnKeyUpBinded)},e.prototype.destroyEvents=function(){t.prototype.destroyEvents.call(this),"desktop"==this.page.router.deviceType?(this.$cont.off("mousedown",this.mouseDown.bind(this)),this.$cont.off("mousemove",this.contOnMove.bind(this)),this.page.router.$window.off("mouseup",this.mouseUp.bind(this)),this.$cont.off("mouseenter",this.contOnEnter.bind(this)),this.$cont.off("mouseleave",this.contOnLeave.bind(this)),this.$cursorDisabler.off("mouseenter",this.cursorDisablerOnEnter.bind(this)),this.$cursorDisabler.off("mouseleave",this.cursorDisablerOnLeave.bind(this))):(this.hammer.off("swipeleft",this.contOnSwipeLeft.bind(this)),this.hammer.off("swiperight",this.contOnSwipeRight.bind(this))),this.page.router.$window.off("scroll",this.onScrollBinded),this.$dot.off("click",this.dotsOnClick.bind(this)),window.removeEventListener("keyup",this.windowOnKeyUpBinded)},e.prototype.initCanvas=function(){var e=this;t.prototype.initCanvas.call(this),setTimeout(function(){e.$dot.removeClass("faded"),e.switchActive=!1,e.bounceDots(),e.initBounceDots()},1600),TweenLite.fromTo(this.$logo,1,{opacity:0},{opacity:1,delay:2,onComplete:function(){e.$logo[0].removeAttribute("style")}}),TweenLite.fromTo(this.$text[this.itemActiveIndex],1,{opacity:0},{opacity:1,delay:2})},e.prototype.initBounceDots=function(){var t=this;this.bounceDotsInterval=setInterval(function(){t.bounceDots()},1e4)},e.prototype.bounceDots=function(){var t=this;this.$dot.length<2||this.hasSwitched||(setTimeout(function(){t.hasSwitched||s.Utils.addClass(t.$dot[1],"bounce")},2e3),setTimeout(function(){s.Utils.removeClass(t.$dot[1],"bounce")},5e3),this.$dot.length<3||(setTimeout(function(){t.hasSwitched||s.Utils.addClass(t.$dot[2],"bounce")},6e3),setTimeout(function(){s.Utils.removeClass(t.$dot[2],"bounce")},9e3)))},e.prototype.mouseDown=function(t){if("mobile"!=this.page.router.deviceType&&!this.page.router.nav.opened){this.isMouseDown=!0,this.mouseDownX=t.pageX,this.$cont.hasClass("grabbing")||s.Utils.addClass(this.$cont[0],"grabbing");var e=.9*this.canvas.circle.medium.initial;TweenLite.to(this.canvas.circle.medium,.6,{current:e,delay:0})}},e.prototype.contOnMove=function(t){if(this.contMoveReady&&!this.page.router.nav.opened&&"undefined"!=typeof this.imgProps[this.itemActiveIndex].initial){this.pageX=t.pageX,this.pageY=t.pageY,this.scrollTop=window.scrollY||document.documentElement.scrollTop||document.body.scrollTop;var e=Math.floor(t.pageX-this.$cursor.innerWidth()/2)+25,i=Math.floor(t.pageY-this.$cursor.innerHeight()/2-0)+25;TweenLite.to(this.$cursor,.1,{x:e,y:i,delay:0}),this.contHasMoved||(TweenLite.to(this.$cursor,1,{opacity:1}),this.contHasMoved=!0);var n=s.Utils.getViewportSize(),o={};o.y=2*(t.pageX/n.width-.5),o.x=-(2*(t.pageY/n.height-.5)),this.$inner.css(this.transformProp,"perspective("+n.height+"px) rotateX("+o.x+"deg) rotateY("+o.y+"deg)");var r=.5-t.pageX/this.contSize.width,a=.5-t.pageY/this.contSize.height,c=this.imgProps[this.itemActiveIndex].initial.x-r*(this.imgProps[this.itemActiveIndex].initial.x/2),l=this.imgProps[this.itemActiveIndex].initial.y-a*(this.imgProps[this.itemActiveIndex].initial.y/2);if(TweenLite.to(this.imgProps[this.itemActiveIndex].current,2.5,{xPercent:r,yPercent:a,x:c,y:l,delay:.05}),this.isMouseDown&&!this.switchActive){var h=t.pageX-this.mouseDownX,u=Math.abs(h/this.contSize.width),p=.9*this.canvas.circle.medium.initial-this.canvas.circle.small,d=.9*this.canvas.circle.medium.initial-p*u;TweenLite.to(this.canvas.circle.medium,.2,{current:d,delay:0})}}},e.prototype.mouseUp=function(t){if("mobile"!=this.page.router.deviceType&&!this.page.router.nav.opened){t.preventDefault(),this.isMouseDown=!1,this.$cont.hasClass("grabbing")&&s.Utils.removeClass(this.$cont[0],"grabbing");var e=t.pageX-this.mouseDownX,i=Math.abs(e/this.contSize.width);if(i>.15){var n=e>0?"left":"right";this.switchItem(n)}else TweenLite.to(this.canvas.circle.medium,.6,{current:this.canvas.circle.medium.initial,delay:0})}},e.prototype.contOnEnter=function(t){TweenLite.to(this.$cursor,.6,{opacity:1})},e.prototype.contOnLeave=function(t){TweenLite.to(this.$cursor,.6,{opacity:0})},e.prototype.cursorDisablerOnEnter=function(t){TweenLite.to(this.$cursor,.6,{opacity:0})},e.prototype.cursorDisablerOnLeave=function(t){TweenLite.to(this.$cursor,.6,{opacity:1})},e.prototype.onScroll=function(){if("mobile"!=this.page.router.deviceType){var t=this.pageX,e=this.pageY,i=window.scrollY||document.documentElement.scrollTop||document.body.scrollTop,n=this.scrollTop-i,o=p["default"].Event("mousemove");o.pageX=t,o.pageY=e-n,this.$cont.trigger(o)}},e.prototype.contOnSwipeLeft=function(t){this.switchItem("right")},e.prototype.contOnSwipeRight=function(t){this.switchItem("left")},e.prototype.windowOnKeyUp=function(t){37==t.keyCode?this.switchItem("left"):39==t.keyCode&&this.switchItem("right")},e.prototype.dotsOnClick=function(t){if(!(t.currentTarget.className.indexOf("active")>=0)){var e=Number(t.currentTarget.getAttribute("data-index"));this.switchItem(null,e),t.preventDefault()}},e.prototype.switchItem=function(t,e){var i=this;if(!this.switchActive&&!this.page.router.nav.opened){var n=void 0,o=this.itemActiveIndex;if(!("left"==t&&0===o||"right"==t&&o===this.itemLength-1)){if("left"==t?n=o>0?o-1:this.itemLength-1:"right"==t&&(n=o<this.itemLength-1?o+1:0),null===t&&"undefined"!=typeof e&&(n=e,t=o>n?"left":"right"),this.switchActive=!0,this.switchDir="right"==t?-1:1,this.itemFutureIndex=n,this.$dot.addClass("faded"),setTimeout(function(){s.Utils.removeClass(i.$item[o],"active"),s.Utils.removeClass(i.$dot[o],"active"),s.Utils.addClass(i.$item[n],"active"),s.Utils.addClass(i.$dot[n],"active")},1e3),"video"==this.imgProps[o].type&&this.imgProps[o].object.pause(),this.canvas){var r="right"==t?1:0,a="right"==t?0:1;this.canvas.switchPercent.val=r,this.canvas.switchFirst=!0,this.canvas.switchActive=!0,TweenLite.fromTo(this.canvas.switchPercent,1,{val:r},{val:a,onComplete:function(){i.canvas.endSwitch()}}),this.canvas.circle.transition=!0,TweenLite.to(this.canvas.circle.big,1,{current:this.canvas.circle.small,delay:0}),TweenLite.to(this.canvas.circle.medium,.8,{current:this.canvas.circle.small,delay:.2}),TweenLite.to(this.canvas.circle.mini,.6,{current:this.canvas.circle.small,delay:.4}),TweenLite.to(this.canvas.circle.big,1.2,{current:this.canvas.circle.big.initial,delay:1.2}),TweenLite.to(this.canvas.circle.medium,.6,{current:this.canvas.circle.medium.initial,delay:1.2}),TweenLite.to(this.canvas.circle.mini,1,{current:this.canvas.circle.mini.initial,delay:1.2})}var c=40*this.switchDir,l=40*this.switchDir,h=40*this.switchDir;TweenLite.to(this.$type[o],.8,{x:c,opacity:0}),TweenLite.to(this.$title[o],.7,{x:l,opacity:0,delay:.1}),TweenLite.to(this.$btn[o],.6,{x:h,opacity:0,delay:.2}),c*=-1,l*=-1,h*=-1,TweenLite.fromTo(this.$type[n],1,{x:c,opacity:0},{x:0,opacity:1,delay:1}),TweenLite.fromTo(this.$title[n],.9,{x:l,opacity:0},{x:0,opacity:1,delay:1.1}),TweenLite.fromTo(this.$btn[n],.8,{x:h,opacity:0},{x:0,opacity:1,delay:1.2}),"video"==this.imgProps[n].type&&setTimeout(function(){i.imgProps[n].object.play()},1500),setTimeout(function(){i.canvas.circle.transition=!1,i.itemActiveIndex=n,i.defineDotsPositions(),i.$dot.removeClass("faded")},1100),setTimeout(function(){i.switchActive=!1},1500),this.hasSwitched||(this.hasSwitched=!1,this.bounceDotsInterval&&(clearInterval(this.bounceDotsInterval),this.bounceDotsInterval=null))}}},e.prototype.hide=function(){TweenLite.to(this.$dot,.6,{opacity:0,delay:.6})},e.prototype.hideCircles=function(e){var i=this;t.prototype.hideCircles.call(this,e),null!==this.canvas&&(this.contMoveReady=!0,setTimeout(function(){("nav"!=e||i.page.router.nav.opened)&&(TweenLite.killTweensOf([i.canvas.dotsOpacity,i.canvas.pathOpacity]),TweenLite.to([i.canvas.dotsOpacity,i.canvas.pathOpacity],.4,{val:0}))},600))},e.prototype.showCircles=function(e){var i=this;t.prototype.showCircles.call(this,e),null!==this.canvas&&setTimeout(function(){"nav"==e&&i.page.router.nav.opened||(TweenLite.killTweensOf([i.canvas.dotsOpacity,i.canvas.pathOpacity]),TweenLite.to([i.canvas.dotsOpacity,i.canvas.pathOpacity],.6,{val:1}))},1e3)},e.prototype.defineDotsPositions=function(){if(null!==this.canvas)for(var t=0;t<this.canvas.dots.points.length;t++)this.$dot[t].style.top=Number(this.canvas.dots.points[t].y-14)+"px",this.$dot[t].style.left=Number(this.canvas.dots.points[t].x-14)+"px"},e.prototype.resizeImages=function(){var e=this;t.prototype.resizeImages.call(this),setTimeout(function(){e.defineDotsPositions(),e.contMoveReady||(e.contMoveReady=!0)},200)},e}(r.AbstractHeader)}),define("blocks/default-block",["exports","jquery","abstract-block"],function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultBlock=void 0,n(e),t.DefaultBlock=function(t){function e(){return o(this,e),s(this,t.apply(this,arguments))}return r(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.$bgImage=this.$cont.find(".block-bg-image"),this.$bgImage.length&&this.loadBgImg()},e.prototype.initEvents=function(){t.prototype.initEvents.call(this)},e.prototype.destroyEvents=function(){t.prototype.destroyEvents.call(this)},e.prototype.loadBgImg=function(){if(this.$bgImg=this.$bgImage.find("img"),this.$bgImg.length){var t=new Image;t.src=this.$bgImg[0].getAttribute("data-src"),t.onload=this.onImgLoaded.bind(this)}},e.prototype.onImgLoaded=function(){this.$bgImage[0].style.backgroundImage="url("+this.$bgImg[0].getAttribute("data-src")+")",this.$bgImage[0].innerHTML="",TweenLite.to(this.$bgImage,1,{opacity:.09})},e}(i.AbstractBlock)}),define("blocks/home-news-block",["exports","jquery","TweenMax","loglevel","blocks/default-block"],function(t,e,i,n,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.HomeNewsBlock=void 0,s(e),s(i),s(n),t.HomeNewsBlock=function(t){function e(){return r(this,e),a(this,t.apply(this,arguments))}return c(e,t),e}(o.DefaultBlock)}),define("blocks/home-contact-block",["exports","jquery","TweenMax","loglevel","blocks/default-block"],function(t,e,i,n,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.HomeContactBlock=void 0,s(e),s(i),s(n),t.HomeContactBlock=function(t){function e(){return r(this,e),a(this,t.apply(this,arguments))}return c(e,t),e}(o.DefaultBlock)}),define("blocks/chart-block",["exports","jquery","TweenMax","utils/utils","utils/bootstrapMedia","loglevel","blocks/default-block"],function(t,e,i,n,o,s,r){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ChartBlock=void 0,a(e),a(i),a(s),t.ChartBlock=function(t){function e(){return c(this,e),l(this,t.apply(this,arguments))}return h(e,t),e.prototype.init=function(){var e=this;t.prototype.init.call(this),this.$anim=this.$cont.find(".chartblock-anim"),this.$animInner=this.$cont.find(".chartblock-anim-inner"),this.$animLogoTop=this.$cont.find(".chartblock-anim-logo-top"),this.$animLine=this.$cont.find(".chartblock-anim-line"),this.$animText=this.$cont.find(".chartblock-anim-text"),this.$animTextCircle=this.$cont.find(".chartblock-anim-text-circle"),this.$animTextInner=this.$cont.find(".chartblock-anim-text-inner"),this.$animCircle=this.$cont.find(".chartblock-anim-circle"),this.$animCircleBg=this.$cont.find(".chartblock-anim-circle-bg"),this.$animCircleMiddle=this.$cont.find(".chartblock-anim-circle-middle"),this.$content=this.$cont.find(".chartblock-content"),this.timeline=null,this.progressTimelineRAF=null,this.progressTimelineTarget=0,this.progressTimelineCurrent=0,"mobile"!=this.page.router.deviceType&&o.BootstrapMedia.isMinSM()&&(this.initTimeline(),this.scrollPos=0,this.scrollTop=0,this.scrollBottom=0,this.scrollDiff=0,this.scrollDiffRatio=0,this.scrollCurrentDiff=0,this.scrollReady=!1,this.scrollInside=!1,this.onScrollBinded=this.onScroll.bind(this),setTimeout(function(){e.scrollReady=!0,e.onResize(),e.progressTimelineRAF=requestAnimFrame(e.progressTimeline.bind(e)),e.initParallax()},400))},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.progressTimelineRAF&&cancelAnimFrame(this.progressTimelineRAF)},e.prototype.initEvents=function(){t.prototype.initEvents.call(this),this.page.router.$window.on("scroll",this.onScrollBinded)},e.prototype.destroyEvents=function(){t.prototype.destroyEvents.call(this),this.page.router.$window.off("scroll",this.onScrollBinded)},e.prototype.initParallax=function(){"mobile"!=this.page.router.deviceType&&o.BootstrapMedia.isMinSM()&&(this.page.parallaxElements.push({$object:this.$animCircleBg.eq(0),settings:{offset:!0,y:{multiplier:-.2,smoothFactor:.2}}}),this.page.parallaxElements.push({$object:this.$animCircleBg.eq(1),settings:{offset:!0,y:{multiplier:-.35,smoothFactor:.2}}}),this.page.parallaxElements.push({$object:this.$animCircleBg.eq(2),settings:{offset:!0,y:{multiplier:-.2,smoothFactor:.2}}}),this.page.parallaxElements.push({$object:this.$animCircleBg.eq(3),settings:{offset:!0,y:{multiplier:-.35,smoothFactor:.2}}}))},e.prototype.initTimeline=function(){this.timeline=new TimelineMax({}),this.timeline.to(this.$animLogoTop,1,{opacity:0},"+=0"),this.timeline.to([this.$animLine[0],this.$animLine[2]],.3,{scaleX:0,ease:Linear.easeNone},"-=0.6"),this.timeline.to(this.$animLine[1],.6,{scaleY:0,ease:Linear.easeNone},"-=0.5"),this.timeline.to(this.$animText[3],.6,{opacity:0},"-=0"),this.timeline.to(this.$animText[1],.6,{borderWidth:0},"-=0.6"),this.timeline.to(this.$animTextCircle[1],.6,{scale:1},"-=0.4"),this.timeline.to(this.$animText[0],.6,{borderWidth:0},"-=0.2"),this.timeline.to(this.$animTextCircle[0],.6,{scale:1},"-=0.4"),this.timeline.to(this.$animText[2],.6,{borderWidth:0},"-=0.2"),this.timeline.to(this.$animTextCircle[2],.6,{scale:1},"-=0.4");var t=[{x:0,y:-69},{x:-67,y:93},{x:67,y:93}];o.BootstrapMedia.isMinSM()||(t=[{x:0,y:-32},{x:-37,y:55},{x:37,y:55}]),this.timeline.to(this.$animText[1],1,{scale:1,x:t[1].x,y:t[1].y},"-=1.4"),this.timeline.to(this.$animText[0],1,{scale:1,y:t[0].y},"-=0.8"),this.timeline.to(this.$animText[2],1,{scale:1,x:t[2].x,y:t[2].y},"-=0.4"),this.timeline.fromTo(this.$animTextInner[1],.8,{opacity:0,y:-20},{opacity:1,y:0},"-=0.6"),this.timeline.fromTo(this.$animTextInner[0],.8,{opacity:0,y:-20},{opacity:1,y:0},"-=0.4"),this.timeline.fromTo(this.$animTextInner[2],.8,{opacity:0,y:-20},{opacity:1,y:0},"-=0.4"),this.timeline.to(this.$animCircleMiddle[2],1.2,{scale:1},"-=3.2"),this.timeline.to(this.$animCircleMiddle[0],1.2,{scale:1},"-=2.6"),this.timeline.to(this.$animCircleMiddle[1],1.2,{scale:1},"-=2"),this.timeline.to(this.$animCircleMiddle[3],.6,{scale:1},"-=3"),this.timeline.to(this.$animCircleMiddle[4],.6,{scale:1},"-=2.6"),this.timeline.to(this.$animCircleMiddle[5],.6,{scale:1},"-=2"),this.timeline.pause()},e.prototype.onScroll=function(t){if(this.scrollReady){var e=window.scrollY||document.documentElement.scrollTop||document.body.scrollTop,i=0,o=0,s=!1;e>this.scrollTop&&e<this.scrollBottom?(this.scrollInside||(this.scrollInside=!0,n.Utils.addClass(this.$animInner[0],"fixed"),this.$anim[0].removeAttribute("style")),i=e-this.scrollTop,o=i/this.scrollDiff,s=!0):this.scrollInside?(i=e<=this.scrollTop?0:this.scrollDiff,o=i/this.scrollDiff,s=!0,n.Utils.removeClass(this.$animInner[0],"fixed"),TweenLite.set(this.$anim,{y:i}),this.scrollInside=!1):(i=e-this.scrollTop,e>this.scrollBottom&&(o=1)),this.scrollPos=e,this.scrollDiffRatio=Number(o.toFixed(5)),this.scrollCurrentDiff=i}},e.prototype.progressTimeline=function(){this.scrollReady&&null!=this.timeline&&(this.progressTimelineTarget=this.scrollDiffRatio,this.progressTimelineCurrent=this.progressTimelineCurrent+.2*(this.progressTimelineTarget-this.progressTimelineCurrent),this.progressTimelineCurrent>0&&this.progressTimelineCurrent<1&&(this.timeline.pause(),this.timeline.progress(this.progressTimelineCurrent)),this.progressTimelineRAF=requestAnimFrame(this.progressTimeline.bind(this)))},e.prototype.animOnClick=function(t){this.restart(),t.preventDefault()},e.prototype.restart=function(){null!==this.timeline&&this.timeline.restart()},e.prototype.onResize=function(){if(this.scrollReady){var t=n.Utils.getViewportSize();this.scrollTop=this.$animInner.offset().top-.5*(t.height-this.$animInner.actual("outerHeight")),this.page.blocksFixed&&(this.scrollTop+=t.height),this.scrollInside?this.scrollTop-=this.scrollCurrentDiff:this.scrollPos>this.scrollBottom&&(this.scrollTop-=this.scrollDiff),this.scrollBottom=this.$content.offset().top-t.height,this.page.blocksFixed&&(this.scrollBottom+=t.height),this.scrollDiff=this.scrollBottom-this.scrollTop}},e}(r.DefaultBlock)}),function(){var t;t="undefined"!=typeof exports&&null!==exports?exports:this,t.Lethargy=function(){function t(t,e,i,n){this.stability=null!=t?Math.abs(t):8,this.sensitivity=null!=e?1+Math.abs(e):100,this.tolerance=null!=i?1+Math.abs(i):1.1,this.delay=null!=n?n:150,this.lastUpDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;e>=1?e>=t:t>=e;e>=1?t++:t--)i.push(null);return i}.call(this),this.lastDownDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;e>=1?e>=t:t>=e;e>=1?t++:t--)i.push(null);return i}.call(this),this.deltasTimestamp=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;e>=1?e>=t:t>=e;e>=1?t++:t--)i.push(null);return i}.call(this)}return t.prototype.check=function(t){var e;return t=t.originalEvent||t,null!=t.wheelDelta?e=t.wheelDelta:null!=t.deltaY?e=-40*t.deltaY:(null!=t.detail||0===t.detail)&&(e=-40*t.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),e>0?(this.lastUpDeltas.push(e),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(e),this.lastDownDeltas.shift(),this.isInertia(-1))},t.prototype.isInertia=function(t){var e,i,n,o,s,r,a;return e=-1===t?this.lastDownDeltas:this.lastUpDeltas,null===e[0]?t:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&e[0]===e[2*this.stability-1])&&(n=e.slice(0,this.stability),i=e.slice(this.stability,2*this.stability),a=n.reduce(function(t,e){return t+e}),s=i.reduce(function(t,e){return t+e}),r=a/n.length,o=s/i.length,Math.abs(r)<Math.abs(o*this.tolerance)&&this.sensitivity<Math.abs(o)&&t)},t.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},t.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},t}()}.call(this),define("lethargy",function(){}),define("canvas/projects-list-canvas",["exports","jquery","TweenMax","utils/utils","utils/bootstrapMedia","canvas/abstract-header-canvas"],function(t,e,i,n,o,s){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectsListCanvas=void 0,r(e),r(i),t.ProjectsListCanvas=function(t){function e(){return a(this,e),c(this,t.apply(this,arguments))}return l(e,t),e.prototype.init=function(){t.prototype.init.call(this);var e=Math.sqrt(Math.pow(this.parent.contSize.width/2,2)+Math.pow(this.parent.contSize.height/2,2));this.circle={big:{initial:e,current:3.5,color:"rgba(24,24,24,0.7)"
},medium:{initial:o.BootstrapMedia.isMinSM()?138:100,current:3.5,unzoomed:100},mini:{image:20,initial:3.5,current:3.5,opacity:0},opacity:0,small:3.5,transition:!1}},e.prototype.onResize=function(e){t.prototype.onResize.call(this,e);var i=o.BootstrapMedia.isMinSM()?138:100;this.circle.medium.initial=i,this.circle.transition||(this.circle.medium.current=i)},e}(s.AbstractHeaderCanvas)}),define("blocks/projects-list",["exports","jquery","TweenMax","loglevel","utils/utils","lethargy","utils/bootstrapMedia","common/abstract-header","canvas/projects-list-canvas"],function(t,e,i,n,o,s,r,a,c){"use strict";function l(t){return t&&t.__esModule?t:{"default":t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectsList=void 0;var d=l(e);l(i),l(n),t.ProjectsList=function(t){function e(){return h(this,e),u(this,t.apply(this,arguments))}return p(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.$item=this.$cont.find(".sticky-project"),this.itemLength=this.$item.length,this.itemProps=[],this.switchItemActive=!1,this.contentGap=(r.BootstrapMedia.isMinMD(),230),this.contentDiff=130,this.contentMidDiff=r.BootstrapMedia.isMinMD()?120:200,this.contentPrevPos=[],this.contentNextPos=[],this.contentPrevLimitIndex=0,this.contentNextLimitIndex=2,this.$listInner=this.$cont.find(".projects-list-inner"),this.$imageMiddleCont=this.$cont.find(".sticky-project-image-middle-cont"),this.$imageMiddle=this.$cont.find(".sticky-project-image-middle"),this.$imageMiddleImg=this.$imageMiddle.find("img");for(var e=0;e<this.$imageMiddle.length;e++)this.$imageMiddle[e].style.backgroundImage="url("+this.$imageMiddleImg[e].src+")",this.$imageMiddle[e].innerHTML="";if(this.$content=this.$cont.find(".sticky-project-content"),this.$content.length&&!this.isMobile&&this.$content.css("opacity",0),this.$contentInner=this.$cont.find(".sticky-project-content-inner"),this.$contentInnerBorderTop=this.$cont.find(".sticky-project-content-inner-border-top"),this.$contentInnerBorderBottom=this.$cont.find(".sticky-project-content-inner-border-bottom"),this.$link=this.$cont.find(".sticky-project-content-link"),this.$location=this.$cont.find(".sticky-project-location"),this.$explore=this.$cont.find(".sticky-project-explore"),this.$title=this.$cont.find(".sticky-project-title"),this.$arrows=this.$cont.find(".projects-list-arrows"),this.$arrows.length&&!this.isMobile&&(this.$arrows[0].style.opacity=0),this.$arrow=this.$cont.find(".projects-list-arrow"),this.$arrowBottom=this.$arrow.get(0),this.$arrowTop=this.$arrow.get(1),r.BootstrapMedia.isMinSM()&&!this.isMobile){for(var i=0;i<this.itemLength;i++){var n=i*this.contentGap,s=i==this.itemActiveIndex?1:.35,a=.2;this.itemProps.push({contentInnerTopPercent:n}),i==this.itemActiveIndex&&(a=1),i>0&&(n-=this.contentDiff*i-this.contentMidDiff,o.Utils.addClass(this.$item[i],"after")),this.contentPrevPos.push(-n),this.contentNextPos.push(n),TweenLite.set(this.$title[i],{opacity:a}),TweenLite.set(this.$contentInner[i],{y:n,scale:s}),i!==this.itemActiveIndex&&o.Utils.addClass(this.$link[i],"no-ajax-link")}if(this.lethargy=new Lethargy,this.itemLength){var l=this.$item.eq(0).find(".scroll-btn");l.length&&this.$cont.append(l)}}if(this.mousewheelBinded=this.onMousewheel.bind(this),this.windowOnKeyUpBinded=this.windowOnKeyUp.bind(this),this.$canvas=this.$cont.find(".projects-list-canvas"),this.canvas=this.$canvas.length?new c.ProjectsListCanvas(this.$canvas[0],this):null,"ajax"==this.page.context){var h=(0,d["default"])("#block-"+this.page.router.state.options.previousName);if(h.length){var u=Number(h[0].getAttribute("data-index"));u!==this.itemActiveIndex&&(this.page.router.transition=!1,this.switchItem(null,u))}}},e.prototype.initEvents=function(){t.prototype.initEvents.call(this),r.BootstrapMedia.isMinSM()&&!this.isMobile&&this.page.router.$window.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",this.mousewheelBinded),this.$arrow.on("click",this.arrowOnClick.bind(this)),this.$link.on("click",this.linkOnClick.bind(this)),window.addEventListener("keyup",this.windowOnKeyUpBinded)},e.prototype.destroyEvents=function(){t.prototype.destroyEvents.call(this),r.BootstrapMedia.isMinSM()&&!this.isMobile&&(this.page.router.$window.off("mousewheel DOMMouseScroll wheel MozMousePixelScroll",this.mousewheelBinded),this.lethargy=null),this.$arrow.off("click",this.arrowOnClick.bind(this)),this.$link.off("click",this.linkOnClick.bind(this)),window.removeEventListener("keyup",this.windowOnKeyUpBinded)},e.prototype.initCanvas=function(){var t=this;this.imageLoaded===this.imageLength&&null!==this.canvas&&!this.canvasInitialized&&"mobile"!=this.page.router.deviceType&&this.page.ready&&(this.canvasInitialized=!0,"video"==this.imgProps[this.itemActiveIndex].type&&this.imgProps[this.itemActiveIndex].object.play(),this.resizeImages(),this.canvas.initDraw(),TweenLite.fromTo([this.$content,this.$arrows],1,{opacity:0},{opacity:1,delay:1,onComplete:function(){t.$content.css("opacity",""),t.$arrows[0].removeAttribute("style")}}))},e.prototype.onMousewheel=function(t){var e=this.lethargy.check(t);e!==!1&&(1==e?this.switchItem("top"):-1==e&&this.switchItem("bottom")),t.preventDefault(),t.stopPropagation()},e.prototype.windowOnKeyUp=function(t){38==t.keyCode?this.switchItem("top"):40==t.keyCode&&this.switchItem("bottom"),t.preventDefault()},e.prototype.linkOnClick=function(t){var e=Number(t.currentTarget.getAttribute("data-index"));e!==this.itemActiveIndex&&(-1==t.currentTarget.className.indexOf("disabled")&&this.switchItem(null,e),t.preventDefault())},e.prototype.arrowOnClick=function(t){var e=t.currentTarget.className.indexOf("top")>=0?"top":"bottom";this.switchItem(e),t.preventDefault()},e.prototype.switchItem=function(t,e){var i=this;if(!(this.itemLength<=1||this.switchItemActive||"top"==t&&0===this.itemActiveIndex||"bottom"==t&&this.itemActiveIndex==this.itemLength-1||this.page.router.nav.opened||this.page.router.transition)){var n=void 0,s=this.itemActiveIndex,r=null,a=null;if(n="top"==t?s>0?s-1:this.itemLength-1:s<this.itemLength-1?s+1:0,null===t&&"undefined"!=typeof e&&(n=e,t=s>n?"top":"bottom"),0===n?(o.Utils.addClass(this.$arrows[0],"only-bottom"),o.Utils.addClass(this.$arrowTop,"disabled")):this.$arrows[0].className.indexOf("only-bottom")>=0&&(o.Utils.removeClass(this.$arrows[0],"only-bottom"),o.Utils.removeClass(this.$arrowTop,"disabled")),n==this.itemLength-1?(o.Utils.addClass(this.$arrows[0],"only-top"),o.Utils.addClass(this.$arrowBottom,"disabled")):this.$arrows[0].className.indexOf("only-top")>=0&&(o.Utils.removeClass(this.$arrows[0],"only-top"),o.Utils.removeClass(this.$arrowBottom,"disabled")),this.switchItemActive=!0,n>0&&(r=n-1),n<this.itemLength-1&&(a=n+1),this.canvas&&(this.canvas.circle.transition=!0,TweenLite.to(this.canvas.circle.big,.8,{current:this.canvas.circle.small,delay:0}),TweenLite.to(this.canvas.circle.medium,.6,{current:this.canvas.circle.small,delay:.2}),TweenLite.to(this.canvas.circle.mini,.4,{current:this.canvas.circle.mini.image,opacity:.6,delay:.2}),TweenLite.to(this.canvas.circle.big,1,{current:this.canvas.circle.big.initial,delay:.8}),TweenLite.to(this.canvas.circle.medium,.8,{current:this.canvas.circle.medium.initial,delay:.8}),TweenLite.to(this.canvas.circle.mini,.8,{current:this.canvas.circle.mini.initial,opacity:0,delay:.8})),!this.isMobile){for(var c=0;c<this.itemLength;c++){var l=c-n,h=l,u=this.contentNextPos[l],p=c==n?1:.35,d=.2;0>l?(h=Math.abs(l),u=this.contentPrevPos[h],d=h>this.contentPrevLimitIndex-1?0:.2,o.Utils.addClass(this.$item[c],"before"),o.Utils.removeClass(this.$item[c],"after")):(l>this.contentNextLimitIndex-1&&(d=0),o.Utils.removeClass(this.$item[c],"before"),o.Utils.addClass(this.$item[c],"after")),c==n&&(o.Utils.removeClass(this.$item[c],"before"),o.Utils.removeClass(this.$item[c],"after"),d=1),0==d?o.Utils.addClass(this.$link[c],"disabled"):o.Utils.removeClass(this.$link[c],"disabled"),TweenLite.to(this.$title[c],1,{opacity:d}),TweenLite.to(this.$contentInner[c],1,{y:u,scale:p})}TweenLite.to(this.$location[s],.6,{opacity:0,x:20}),TweenLite.to(this.$explore[s],.6,{opacity:0,x:-20}),TweenLite.to([this.$contentInnerBorderTop[s],this.$contentInnerBorderBottom[s]],.6,{scale:3,opacity:.1}),TweenLite.to([this.$location[n],this.$explore[n]],.6,{opacity:1,x:0}),TweenLite.to([this.$contentInnerBorderTop[n],this.$contentInnerBorderBottom[n]],.6,{scale:0,opacity:0})}o.Utils.removeClass(this.$item[s],"active"),o.Utils.addClass(this.$item[n],"active"),setTimeout(function(){o.Utils.addClass(i.$link[s],"no-ajax-link"),o.Utils.removeClass(i.$link[n],"no-ajax-link")},1e3),this.itemActiveIndex=n,setTimeout(function(){i.switchItemActive=!1},500)}},e.prototype.hide=function(){TweenLite.to([this.$listInner,this.$arrows],.6,{opacity:0})},e.prototype.hideMediumCircle=function(){this.$text.length&&TweenLite.to(this.$text[this.itemActiveIndex],.6,{opacity:0}),null!==this.canvas&&("video"==this.imgProps[this.itemActiveIndex].type&&this.imgProps[this.itemActiveIndex].object.pause(),this.canvas.circle.transition=!0,TweenLite.to(this.canvas.circle.medium,.8,{current:0,delay:.2}))},e.prototype.onResize=function(e){if(t.prototype.onResize.call(this,e),this.contentGap=(r.BootstrapMedia.isMinMD(),230),this.contentDiff=130,this.contentMidDiff=r.BootstrapMedia.isMinMD()?120:200,!r.BootstrapMedia.isMinSM()||this.isMobile){for(var i=0;i<this.itemLength;i++)this.$item[i].style.height=this.contSize.height+"px";this.$cont[0].style.height="";var n=Math.round(-(this.contSize.height-this.$imageMiddleCont.actual("height"))/2),s=Math.round(-(this.contSize.width-this.$imageMiddleCont.actual("width"))/2);this.$imageMiddle.css("top",n),this.$imageMiddle.css("left",s),this.$imageMiddle.css("width",this.contSize.width),this.$imageMiddle.css("height",this.contSize.height)}else{this.$cont[0].style.height=this.contSize.height+"px";for(var a=this.contSize.height/2-250,c=this.contSize.height/2-100,l=0;l<this.contentPrevPos.length;l++)if(Math.abs(this.contentPrevPos[l])>a){this.contentPrevLimitIndex=l;break}for(var h=0;h<this.contentNextPos.length;h++)if(this.contentNextPos[h]>c){this.contentNextLimitIndex=h;break}for(var u=0;u<this.itemLength;u++){var p=u-this.itemActiveIndex,d=p,f=this.contentNextPos[p],y=u==this.itemActiveIndex?1:.35,m=.2;u==this.itemActiveIndex&&(m=1),0>p?(d=Math.abs(p),f=this.contentPrevPos[d],m=d>this.contentPrevLimitIndex-1?0:.2):p>this.contentNextLimitIndex-1&&(m=0),0==m&&o.Utils.addClass(this.$link[u],"disabled"),TweenLite.set(this.$title[u],{opacity:m}),TweenLite.set(this.$contentInner[u],{y:f,scale:y})}}},e}(a.AbstractHeader)}),define("blocks/team-block",["exports","jquery","TweenMax","loglevel","blocks/default-block"],function(t,e,i,n,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.TeamBlock=void 0,s(e),s(i),s(n),t.TeamBlock=function(t){function e(){return r(this,e),a(this,t.apply(this,arguments))}return c(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.$container=this.$cont.find(".block-container")},e}(o.DefaultBlock)}),define("blocks/news-wrapper-block",["exports","jquery","TweenMax","loglevel","blocks/default-block"],function(t,e,i,n,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.NewsWrapperBlock=void 0,s(e),s(i),s(n),t.NewsWrapperBlock=function(t){function e(){return r(this,e),a(this,t.apply(this,arguments))}return c(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.$container=this.$cont.find(".block-container")},e}(o.DefaultBlock)}),define("blocks/contact-form-block",["exports","jquery","TweenMax","loglevel","utils/utils","utils/bootstrapMedia","blocks/default-block"],function(t,e,i,n,o,s,r){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ContactFormBlock=void 0,a(e),a(i),a(n),t.ContactFormBlock=function(t){function e(){return c(this,e),l(this,t.apply(this,arguments))}return h(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.onResize()},e.prototype.onResize=function(){if(t.prototype.onResize.call(this),!(this.page.blockLength>1))if("desktop"==this.page.router.deviceType&&s.BootstrapMedia.isMinSM()){var e=o.Utils.getViewportSize();this.$cont[0].style.minHeight=e.height+"px"}else this.$cont[0].style.minHeight=""},e}(r.DefaultBlock)}),define("blocks/columned-image",["exports","jquery","TweenMax","loglevel","blocks/default-block"],function(t,e,i,n,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnedImage=void 0,s(e),s(i),s(n),t.ColumnedImage=function(t){function e(){return r(this,e),a(this,t.apply(this,arguments))}return c(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.mediaType=this.$cont[0].className.indexOf("video")>=0?"video":"image",this.$image=this.$cont.find(".common-additional-image"),this.$img=this.$cont.find(".columned-img"),this.$embed=null,this.videoLaunched=!1,this.$videoPlayBtn=this.$cont.find(".video-play-btn"),this.$circle=this.$cont.find(".link-circle"),"video"==this.mediaType&&(this.$embed=this.$cont.find(".columned-img-embed"),this.$embed.length&&this.$embed[0].setAttribute("data-original-src",this.$embed[0].src))},e.prototype.initEvents=function(){t.prototype.initEvents.call(this),"video"==this.mediaType&&(this.$image.on("click",this.imageOnClick.bind(this)),this.$image.on("mouseenter",this.imageOnEnter.bind(this)),this.$image.on("mouseleave",this.imageOnLeave.bind(this)))},e.prototype.destroyEvents=function(){t.prototype.destroyEvents.call(this),"video"==this.mediaType&&(this.$image.off("click",this.imageOnClick.bind(this)),this.$image.on("mouseenter",this.imageOnEnter.bind(this)),this.$image.on("mouseleave",this.imageOnLeave.bind(this)))},e.prototype.imageOnEnter=function(t){if(!this.videoLaunched){var e=t.pageY-this.$cont.offset().top,i=t.pageX-this.$cont.offset().left,n=[e,this.$cont.actual("outerWidth")-i,this.$cont.actual("outerHeight")-e,i];this.$circle[0].style.top=e+"px",this.$circle[0].style.left=i+"px",n.sort(function(t,e){return t-e});var o=2*Math.round(Math.sqrt(Math.pow(n[2],2)+Math.pow(n[3],2))),s=0;this.$circle[0].style.width=o+"px",this.$circle[0].style.height=o+"px",this.$circle[0].style.top=Math.round(e-o/2)+"px",this.$circle[0].style.left=Math.round(i-o/2)+"px",TweenLite.fromTo(this.$circle,.6,{scale:s},{scale:1,force3D:!1,ease:Cubic.easeInOut})}},e.prototype.imageOnLeave=function(t){if(!this.videoLaunched){var e=t.pageY-this.$cont.offset().top,i=t.pageX-this.$cont.offset().left,n=[e,this.$cont.actual("outerWidth")-i,this.$cont.actual("outerHeight")-e,i];this.$circle[0].style.top=e+"px",this.$circle[0].style.left=i+"px",n.sort(function(t,e){return t-e});var o=2*Math.round(Math.sqrt(Math.pow(n[2],2)+Math.pow(n[3],2))),s=0;this.$circle[0].style.width=o+"px",this.$circle[0].style.height=o+"px",this.$circle[0].style.top=Math.round(e-o/2)+"px",this.$circle[0].style.left=Math.round(i-o/2)+"px",TweenLite.to(this.$circle,.4,{scale:s,force3D:!1,ease:Cubic.easeInOut})}},e.prototype.imageOnClick=function(t){var e=this;null===this.$embed||this.videoLaunched||(TweenLite.to([this.$img,this.$videoPlayBtn,this.$circle],.8,{opacity:0,onComplete:function(){e.$circle[0].style.display="none",e.$videoPlayBtn[0].style.display="none",e.$embed[0].style.zIndex="13"}}),this.$embed[0].src+="&autoplay=1",this.videoLaunched=!0,t.preventDefault())},e}(o.DefaultBlock)}),define("class-factory",["exports","loglevel","pages/page","pages/home","pages/projectcontainer","pages/project","pages/newscontainer","pages/news","pages/person","pages/contact","common/header","common/scroll-btn","common/contextual-nav","common/back-to-parent-col","abstract-block","blocks/project-carousel","blocks/link-circle-scale","blocks/home-carousel-block","blocks/home-news-block","blocks/home-contact-block","blocks/chart-block","blocks/projects-list","blocks/team-block","blocks/news-wrapper-block","blocks/contact-form-block","blocks/columned-image"],function(t,e,i,n,o,s,r,a,c,l,h,u,p,d,f,y,m,g,v,b,w,$,x,T,k,C){"use strict";function L(t){return t&&t.__esModule?t:{"default":t}}function M(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ClassFactory=void 0;var _=L(e);t.ClassFactory=function(){function t(){M(this,t)}return t.prototype.getPageInstance=function(t,e,n,h,u,p){switch(t){case"page":return new i.Page(e,n,h,u,p);case"contactpage":return new l.Contact(e,n,h,u,p);case"projectcontainer":return new o.ProjectContainer(e,n,h,u,p);case"project":return new s.Project(e,n,h,u,p);case"newscontainer":return new r.NewsContainer(e,n,h,u,p);case"news":return new a.News(e,n,h,u,p);case"person":return new c.Person(e,n,h,u,p);default:return _["default"].info('"'+t+'" has no defined route, using Page.'),new i.Page(e,n,h,u,p)}},t.prototype.getBlockInstance=function(t,e,i){switch(t){case"header":return new h.Header(e,i,t);case"scrollbtn":return new u.ScrollBtn(e,i,t);case"linkcirclescale":return new m.LinkCircleScale(e,i,t);case"homecarouselblock":return new g.HomeCarouselBlock(e,i,t);case"homenewsblock":return new v.HomeNewsBlock(e,i,t);case"homecontactblock":return new b.HomeContactBlock(e,i,t);case"projectslist":return new $.ProjectsList(e,i,t);case"introblock":return new f.AbstractBlock(e,i,t);case"chartblock":return new w.ChartBlock(e,i,t);case"teamblock":return new x.TeamBlock(e,i,t);case"newswrapperblock":return new T.NewsWrapperBlock(e,i,t);case"contactformblock":return new k.ContactFormBlock(e,i,t);case"contextual-nav":return new p.ContextualNav(e,i,t);case"back-to-parent-col":return new d.BackToParentCol(e,i,t);case"project-carousel":return new y.ProjectCarousel(e,i,t);case"columned-image":return new C.ColumnedImage(e,i,t)}},t}()}),define("main",["jquery","TweenMax","scrollTo","isMobile","loglevel","utils/utils","utils/polyfills","utils/gaTrackErrors","common/nav","common/search","common/loader","common/footer","custom-router","class-factory","blocks/link-circle-scale"],function(t,e,i,n,o,s,r,a,c,l,h,u,p,d,f){"use strict";function y(t){return t&&t.__esModule?t:{"default":t}}var m=y(t),g=(y(e),y(i),y(n),y(o));temp.devMode&&!0===temp.devMode?g["default"].setLevel(0):g["default"].setLevel(5),TweenLite.defaultEase=Expo.easeOut,s.Utils.logCredits("Villes & Paysages","#38AE72",[{name:"Rezo Zero",website:"www.rezo-zero.com"}],[{name:"roadiz",website:"www.roadiz.io"},{name:"GSAP",website:"www.greensock.com"}],"#fff"),(0,r.polyfills)(),(0,a.gaTrackErrors)();var v=(0,m["default"])("body"),b=(v[0].getAttribute("data-node-type")||"page",v[0].getAttribute("data-is-home")),w=(v[0].id,"1"==b);(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0)&&s.Utils.addClass(v[0],"ie-browser");var $=new p.CustomRouter({homeHasClass:!1,ajaxEnabled:!0,lazyloadEnabled:!0,ajaxLinkTypeAttr:"data-node-type-target",pageClass:"page-container",prePushState:function(t){this.page.prePushState(t)},minLoadDuration:1500,preLoadPageDelay:1e3},new d.ClassFactory,temp.baseUrl,new h.Loader,new c.Nav);$.initEvents(),$.boot((0,m["default"])(".page-container").eq(0),"static",w),new l.Search($),new u.Footer($),new f.LinkCircleScale(null,(0,m["default"])("#navbar-btn-text"),"linkcirclescale"),new f.LinkCircleScale(null,(0,m["default"])("#navbar-search-btn"),"linkcirclescale"),new f.LinkCircleScale(null,(0,m["default"])("#search-close-btn"),"linkcirclescale"),new f.LinkCircleScale(null,(0,m["default"])("#searchform-icon"),"linkcirclescale"),new f.LinkCircleScale(null,(0,m["default"])("#footer-back-top"),"linkcirclescale")}),requirejs.config({baseUrl:"/themes/VillesPaysageTheme/static/dist",paths:{jquery:"//ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min",TweenMax:"//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenMax.min",TweenLite:"//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenLite.min",Lazyload:"/themes/VillesPaysageTheme/static/bower_components/vanilla-lazyload/dist/lazyload",waitForImages:"/themes/VillesPaysageTheme/static/bower_components/waitForImages/dist/jquery.waitforimages.min",scrollTo:"/themes/VillesPaysageTheme/static/bower_components/gsap/src/minified/plugins/ScrollToPlugin.min",isMobile:"/themes/VillesPaysageTheme/static/bower_components/isMobile/isMobile.min",actual:"/themes/VillesPaysageTheme/static/bower_components/jquery.actual/jquery.actual.min",Hammer:"/themes/VillesPaysageTheme/static/bower_components/hammerjs/hammer.min",loglevel:"/themes/VillesPaysageTheme/static/bower_components/loglevel/dist/loglevel.min",lethargy:"/themes/VillesPaysageTheme/static/bower_components/lethargy/lethargy.min","utils/utils":"/themes/VillesPaysageTheme/static/bower_components/starting-blocks/dist/utils/utils","utils/polyfills":"/themes/VillesPaysageTheme/static/bower_components/starting-blocks/dist/utils/polyfills","utils/debounce":"/themes/VillesPaysageTheme/static/bower_components/starting-blocks/dist/utils/debounce","utils/scroll":"/themes/VillesPaysageTheme/static/bower_components/starting-blocks/dist/utils/scroll","utils/gaTrackErrors":"/themes/VillesPaysageTheme/static/bower_components/starting-blocks/dist/utils/gaTrackErrors","utils/bootstrapMedia":"/themes/VillesPaysageTheme/static/bower_components/starting-blocks/dist/utils/bootstrapMedia",state:"/themes/VillesPaysageTheme/static/bower_components/starting-blocks/dist/state",router:"/themes/VillesPaysageTheme/static/bower_components/starting-blocks/dist/router","cache-provider":"/themes/VillesPaysageTheme/static/bower_components/starting-blocks/dist/cache-provider",graphicLoader:"/themes/VillesPaysageTheme/static/bower_components/starting-blocks/dist/graphicLoader","abstract-nav":"/themes/VillesPaysageTheme/static/bower_components/starting-blocks/dist/abstract-nav","abstract-page":"/themes/VillesPaysageTheme/static/bower_components/starting-blocks/dist/abstract-page","abstract-block":"/themes/VillesPaysageTheme/static/bower_components/starting-blocks/dist/abstract-block"}}),require(["main"]),define("../bootstrap",function(){});